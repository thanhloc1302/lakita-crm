{"version":3,"sources":["built.js"],"names":["show_number_selected_row","numberOfChecked","$","length","totalCheckboxes","sum","i","parseInt","parent","find","text","notify","toLocaleString","position","className","showDuration","autoHideDelay","unselect_not_checked","each","is","removeClass","unselect_checked","uncheck_checked","prop","uncheck_not_checked","right_context_menu_display","controller","contact_id","contact_name","duplicate_id","contact_phone","attr","addClass","_SO_MAY_SAI_","_KHONG_NGHE_MAY_","_NHAM_MAY_","_DA_LIEN_LAC_DUOC_","_CONTACT_CHET_","_CHUA_CHAM_SOC_","_TU_CHOI_MUA_","_DONG_Y_MUA_","check_edit_contact","call_status_id","val","ordering_status_id","date_recall","course_code","price_purchase","alert","check_rule_call_stt","now_greater_than_input_date","check_rule_call_stt_and_date_recall","stop_care","date_arr","date_string","split","year","month","day","now_timestamp","Date","getTime","input_timestamp","document","on","r","confirm","del","e","target","ajax","type","url","data","success","console","log","hide","error","errorThrown","preventDefault","location","reload","html","complete","modal","item_id","submit","myclass","not","promise","done","scrollTop","offset","top","css","myID","mywidth","width","myheight","height","bill_id","myCheckboxes","Array","push","contactIdArray","dataType","serialize","play","message","remove","parents","show","set_equal_table_height","datetimepicker","format","setTimeout","beforeSend","name","email","stopPropagation","contact_course_code","querySelector","select","execCommand","menu","pageX","pageY","left","mwidth","mheight","screenWidth","window","screenHeight","scrTop","is_checked_input","checked","hasClass","input_checkbox","indexOf","shortcut","add","click","contextmenu","_this","trim","datepicker","dateFormat","d","currDate","getDate","getMonth","getFullYear","pastDate","daterangepicker","autoUpdateInput","locale","cancelLabel","ranges","moment","subtract","startOf","endOf","ev","picker","startDate","endDate","clipboard","Clipboard","Dropzone","options","dropzoneFileUpload","dictDefaultMessage","acceptedFiles","maxFilesize","init","href","ready","selectpicker","hover","stop","fadeIn","fadeOut","Notification","requestPermission","p","setInterval","data2","body","icon","tag","sound","image","onclick","event","open","mouseover","mouseout","search","sale_id","total_contact_for_sale","myClass","offsetLeft","script_id","action","channel_id","campagin_id","adset_id"],"mappings":";;AAAA;;;;;;AAOAA,2BAA2B,oCAAM;AAC7B,QAAIC,kBAAkBC,EAAE,wBAAF,EAA4BC,MAAlD;AACA,QAAIC,kBAAkBF,EAAE,gBAAF,EAAoBC,MAA1C;AACA;;;AAGA,QAAIE,MAAM,CAAV;AACA,SAAIC,IAAI,CAAR,EAAWA,IAAIL,eAAf,EAAgCK,GAAhC,EAAoC;AAChCD,eAAOE,SAASL,EAAEA,EAAE,wBAAF,EAA4BI,CAA5B,CAAF,EAAkCE,MAAlC,GAA2CA,MAA3C,GAAoDC,IAApD,CAAyD,qBAAzD,EAAgFC,IAAhF,EAAT,CAAP;AACH;AACDR,MAAES,MAAF,4BAAqBV,eAArB,WAA0CG,eAA1C,gCAA0EC,IAAIO,cAAJ,EAA1E,EAAkG;AAC9FC,kBAAU,UADoF;AAE9FC,mBAAW,SAFmF;AAG9FC,sBAAc,GAHgF;AAI9FC,uBAAe;AAJ+E,KAAlG;AAMH,CAhBD;;AAkBAC,uBAAuB,gCAAM;AACzBf,MAAE,wBAAF,EAA4BgB,IAA5B,CACS,YAAM;AACH,YAAI,CAAChB,aAAQiB,EAAR,CAAW,UAAX,CAAL,EAA6B;AACzBjB,yBAAQM,MAAR,GAAiBA,MAAjB,GAA0BY,WAA1B,CAAsC,SAAtC;AACH;AACJ,KALT;AAMH,CAPD;;AASAC,mBAAmB,4BAAM;AACrBnB,MAAE,wBAAF,EAA4BgB,IAA5B,CACS,YAAM;AACH,YAAIhB,aAAQiB,EAAR,CAAW,UAAX,CAAJ,EAA4B;AACxBjB,yBAAQM,MAAR,GAAiBA,MAAjB,GAA0BY,WAA1B,CAAsC,SAAtC;AACH;AACJ,KALT;AAMH,CAPD;AAQAE,kBAAkB,2BAAM;AACpBpB,MAAE,wBAAF,EAA4BgB,IAA5B,CACQ,YAAM;AACF,YAAIhB,aAAQiB,EAAR,CAAW,UAAX,CAAJ,EAA4B;AACxBjB,yBAAQqB,IAAR,CAAa,SAAb,EAAwB,KAAxB;AACH;AACJ,KALT;AAMH,CAPD;AAQAC,sBAAsB,+BAAM;AACxBtB,MAAE,wBAAF,EAA4BgB,IAA5B,CACQ,YAAM;AACF,YAAI,CAAChB,aAAQiB,EAAR,CAAW,UAAX,CAAL,EAA6B;AACzBjB,yBAAQqB,IAAR,CAAa,SAAb,EAAwB,KAAxB;AACH;AACJ,KALT;AAMH,CAPD;;AASAE,6BAA6B,oCAACC,UAAD,EAAaC,UAAb,EAAyBC,YAAzB,EAAuCC,YAAvC,EAAqDC,aAArD,EAAuE;AAChG5B,MAAE,6BAAF,EAAiC6B,IAAjC,CAAsC,YAAtC,EAAoDJ,UAApD;AACAzB,MAAE,kBAAF,EAAsB6B,IAAtB,CAA2B,cAA3B,EAA2CF,YAA3C;AACA3B,MAAE,kBAAF,EAAsB6B,IAAtB,CAA2B,cAA3B,EAA2CH,YAA3C,EAAyDG,IAAzD,CAA8D,eAA9D,EAA+ED,aAA/E;AACA;;;;AAIA,QAAI7B,kBAAkBC,EAAE,wBAAF,EAA4BC,MAAlD;AACA,QAAIF,kBAAkB,CAAtB,EAAyB;AACrBC,UAAE,+EACQ,uDADV,EACmE8B,QADnE,CAC4E,QAD5E;AAEA9B,UAAE,8CACQ,uFADV,EACmGkB,WADnG,CAC+G,QAD/G;AAEH,KALD,MAKO;AACHlB,UAAE,+EACQ,uDADV,EACmEkB,WADnE,CAC+E,QAD/E;AAEAlB,UAAE,+CACQ,qCADV,EACiD8B,QADjD,CAC0D,QAD1D;AAEA,YAAIH,eAAe,CAAnB,EAAsB;AAClB3B,cAAE,kBAAF,EAAsBkB,WAAtB,CAAkC,QAAlC;AACH,SAFD,MAEO;AACHlB,cAAE,kBAAF,EAAsB8B,QAAtB,CAA+B,QAA/B;AACH;AACJ;;AAED,QAAIN,eAAe,SAAnB,EAA8B;AAC1BxB,UAAE,2BAAF,EAA+B6B,IAA/B,CAAoC,YAApC,EAAkDJ,UAAlD;AACAzB,UAAE,2BAAF,EAA+B6B,IAA/B,CAAoC,cAApC,EAAoDH,YAApD;AACA;;;AAGA,YAAI3B,kBAAkB,CAAtB,EAAyB;AACrB,gBAAI4B,eAAe,CAAnB,EAAsB;AAClB3B,kBAAE,2BAAF,EAA+B8B,QAA/B,CAAwC,QAAxC;AACH;AACD;;;AAHA,iBAMK;AACD9B,sBAAE,2BAAF,EAA+BkB,WAA/B,CAA2C,QAA3C;AACH;AACJ;AACJ,KAjBD,MAiBO,IAAIM,eAAe,MAAf,IAAyBA,eAAe,KAA5C,EAAmD;AACtDxB,UAAE,eAAF,EAAmB6B,IAAnB,CAAwB,YAAxB,EAAsCJ,UAAtC;AACAzB,UAAE,uBAAF,EAA2B6B,IAA3B,CAAgC,YAAhC,EAA8CJ,UAA9C;AACAzB,UAAE,uBAAF,EAA2B6B,IAA3B,CAAgC,cAAhC,EAAgDH,YAAhD;AACH;AACJ,CAhDD;;AAkDA;;;;;;AAMA,IAAMK,eAAe,CAArB;AACA,IAAMC,mBAAmB,CAAzB;AACA,IAAMC,aAAa,CAAnB;AACA,IAAMC,qBAAqB,CAA3B;AACA,IAAMC,iBAAiB,CAAvB;;AAEA,IAAMC,kBAAkB,CAAxB;AACA,IAAMC,gBAAgB,CAAtB;AACA,IAAMC,eAAe,CAArB;;AAEAC,qBAAqB,8BAAM;AACvB,QAAIC,iBAAiBxC,EAAE,+BAAF,EAAmCyC,GAAnC,EAArB;AACA,QAAIC,qBAAqB1C,EAAE,mCAAF,EAAuCyC,GAAvC,EAAzB;AACA,QAAIE,cAAc3C,EAAE,cAAF,EAAkByC,GAAlB,EAAlB;AACA,QAAIG,cAAc5C,EAAE,2BAAF,EAA+ByC,GAA/B,EAAlB;AACA,QAAII,iBAAiB7C,EAAE,yBAAF,EAA6ByC,GAA7B,EAArB;AACA,QAAIzC,EAAE,gCAAF,EAAoCyC,GAApC,MAA6C,CAAjD,EAAoD;AAChDK,cAAM,wCAAN;AACA,eAAO,KAAP;AACH;AACD,QAAIN,kBAAkB,CAAtB,EAAyB;AACrBM,cAAM,kCAAN;AACA,eAAO,KAAP;AACH;AACD,QAAIC,oBAAoBP,cAApB,EAAoCE,kBAApC,KAA2D,KAA/D,EAAsE;AAClEI,cAAM,oDAAN;AACA,eAAO,KAAP;AACH;AACD,QAAIH,eAAe,EAAnB,EAAuB;AACnB,YAAIK,4BAA4BL,WAA5B,CAAJ,EAA8C;AAC1CG,kBAAM,wDAAN;AACA,mBAAO,KAAP;AACH;AACD,YAAIG,oCAAoCT,cAApC,EAAoDE,kBAApD,EAAwEC,WAAxE,CAAJ,EAA0F;AACtFG,kBAAM,uHAAN;AACA,mBAAO,KAAP;AACH;AACJ;AACD,QAAIF,eAAe,GAAnB,EAAwB;AACpBE,cAAM,4BAAN;AACA,eAAO,KAAP;AACH;AACD,QAAID,kBAAkB,EAAtB,EAA0B;AACtBC,cAAM,6BAAN;AACA,eAAO,KAAP;AACH;AACD,WAAO,IAAP;AACH,CArCD;;AAuCAC,sBAAsB,6BAACP,cAAD,EAAiBE,kBAAjB,EAAwC;AAC1D,QAAIF,kBAAkBT,YAAlB,IAAkCS,kBAAkBR,gBAApD,IAAwEQ,kBAAkBP,UAA9F,EAA0G;AACtG,YAAIS,sBAAsBN,eAA1B,EAA2C;AACvC,mBAAO,KAAP;AACH;AACJ;AACD,QAAII,kBAAkBN,kBAAtB,EAA0C;AACtC,YAAIQ,sBAAsBN,eAA1B,EAA2C;AACvC,mBAAO,KAAP;AACH;AACJ;AACL;AACA;AACA;AACI,WAAO,IAAP;AACH,CAfD;;AAiBAa,sCAAsC,6CAACT,cAAD,EAAiBE,kBAAjB,EAAqCC,WAArC,EAAqD;AACvF,QAAIO,UAAUV,cAAV,EAA0BE,kBAA1B,KAAiDM,4BAA4BL,WAA5B,CAArD,EAA+F;AAC3F,eAAO,IAAP;AACH;AACD,WAAO,KAAP;AACH,CALD;;AAOAO,YAAY,mBAACV,cAAD,EAAiBE,kBAAjB,EAAwC;AAChD,QAAIF,kBAAkBT,YAAlB,IAAkCS,kBAAkBP,UAApD,IAAkEO,kBAAkBR,gBAApF,IACOU,sBAAsBJ,YAD7B,IAC6CI,sBAAsBL,aADnE,IACoFK,sBAAsBP,cAD9G,EAC8H;AAC1H,eAAO,IAAP;AACH;AACD,WAAO,KAAP;AACH,CAND;AAOAa,8BAA8B,kDAAe;AACzC,QAAIG,WAAWC,YAAYC,KAAZ,CAAkB,GAAlB,CAAf;AACA,QAAIC,OAAOH,SAAS,CAAT,CAAX;AACA,QAAII,QAAQJ,SAAS,CAAT,CAAZ;AACA,QAAIK,MAAML,SAAS,CAAT,CAAV;AACA,QAAIM,gBAAgB,IAAIC,IAAJ,EAApB;AACAD,oBAAgBA,cAAcE,OAAd,EAAhB;AACA,QAAIC,kBAAkB,IAAIF,IAAJ,CAASJ,IAAT,EAAeC,QAAQ,CAAvB,EAA0BC,GAA1B,CAAtB;AACAI,sBAAkBA,gBAAgBD,OAAhB,EAAlB;AACA,WAAQF,gBAAgBG,eAAxB;AACH,CAVD;;AAaA5D,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,4BAAxB,EAAsD,aAAK;AACvD,QAAIC,IAAIC,QAAQ,8CAAR,CAAR;AACA,QAAID,KAAK,IAAT,EAAe;AACX,YAAIE,MAAMjE,EAAEkE,EAAEC,MAAJ,CAAV;AACA,YAAI1C,aAAazB,EAAEkE,EAAEC,MAAJ,EAAYtC,IAAZ,CAAiB,YAAjB,CAAjB;AACA7B,UAAEoE,IAAF,CAAO;AACHC,kBAAM,MADH;AAEHC,iBAAKtE,EAAE,WAAF,EAAeyC,GAAf,KAAuB,0BAFzB;AAGH8B,kBAAM;AACF9C,4BAAYA;AADV,aAHH;AAMH+C,qBAAS,uBAAQ;AACbC,wBAAQC,GAAR,CAAYH,IAAZ;AACA,oBAAIA,SAAS,GAAb,EACA;AACIN,wBAAI3D,MAAJ,GAAaA,MAAb,GAAsBqE,IAAtB;AACA;AACH,iBAJD,MAIO;AACH7B,0BAAMyB,IAAN;AACH;AACJ,aAfE;AAgBHK,mBAAO;AAAA,uBAAe9B,MAAM+B,WAAN,CAAf;AAAA;AAhBJ,SAAP;AAkBA,eAAO,KAAP;AACH;AACJ,CAzBD;AA0BA7E,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,oCAAxB,EAA8D,UAAUI,CAAV,EAAa;AACvE,QAAIH,IAAIC,QAAQ,8CAAR,CAAR;AACA,QAAID,KAAK,IAAT,EAAe;AACX,YAAIE,MAAMjE,EAAE,IAAF,CAAV;AACA,YAAIyB,aAAazB,EAAE,IAAF,EAAQ6B,IAAR,CAAa,YAAb,CAAjB;AACAqC,UAAEY,cAAF;AACA9E,UAAEoE,IAAF,CAAO;AACHC,kBAAM,MADH;AAEHC,iBAAKtE,EAAE,WAAF,EAAeyC,GAAf,KAAuB,kCAFzB;AAGH8B,kBAAM;AACF9C,4BAAYA;AADV,aAHH;AAMH+C,qBAAS,uBAAQ;AACb,oBAAID,SAAS,GAAb,EACA;AACIN,wBAAI3D,MAAJ,GAAaA,MAAb,GAAsBqE,IAAtB;AACA;AACH,iBAJD,MAIO;AACH7B,0BAAMyB,IAAN;AACH;AACJ,aAdE;AAeHK,mBAAO;AAAA,uBAAe9B,MAAM+B,WAAN,CAAf;AAAA;AAfJ,SAAP;AAiBH;AACJ,CAxBD;;AA2BA;;;;AAIA7E,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,oBAAxB,EAA8C,UAAUI,CAAV,EAAa;AACvD,QAAIH,IAAIC,QAAQ,kDAAR,CAAR;AACA,QAAID,KAAK,IAAT,EAAe;AACX,YAAIE,MAAMjE,EAAE,IAAF,CAAV;AACA,YAAIyB,aAAazB,EAAE,IAAF,EAAQ6B,IAAR,CAAa,YAAb,CAAjB;AACAqC,UAAEY,cAAF;AACA9E,UAAEoE,IAAF,CAAO;AACHC,kBAAM,MADH;AAEHC,iBAAKtE,EAAE,WAAF,EAAeyC,GAAf,KAAuB,wBAFzB;AAGH8B,kBAAM;AACF9C,4BAAYA;AADV,aAHH;AAMH+C,qBAAS,uBAAQ;AACb,oBAAID,SAAS,GAAb,EACA;AACIzB,0BAAM,4BAAN;AACA;AACAiC,6BAASC,MAAT;AACH,iBALD,MAKO;AACHlC,0BAAMyB,IAAN;AACH;AACJ,aAfE;AAgBHK,mBAAO;AAAA,uBAAe9B,MAAM+B,WAAN,CAAf;AAAA;AAhBJ,SAAP;AAkBH;AACJ,CAzBD;;AA2BA7E,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,YAAxB,EAAsC,UAAUI,CAAV,EAAa;AAC/CA,MAAEY,cAAF;AACA,QAAIR,MAAMtE,EAAE,eAAF,EAAmByC,GAAnB,EAAV;AACAzC,MAAEoE,IAAF,CAAO;AACHE,aAAKA,GADF;AAEHD,cAAM,MAFH;AAGHG,iBAAS,iBAAUD,IAAV,EAAgB;AACrBvE,cAAE,oCAAF,EAAwCiF,IAAxC,CAA6CV,IAA7C;AACH,SALE;AAMHW,kBAAU,oBAAY;AAClBlF,cAAE,iBAAF,EAAqBmF,KAArB,CAA2B,MAA3B;AACH;AARE,KAAP;AAUH,CAbD;;AAeAnF,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,eAAxB,EAAyC,UAAUI,CAAV,EAAa;AAClDA,MAAEY,cAAF;AACA,QAAIf,IAAIC,QAAQ,2CAAR,CAAR;AACA,QAAID,MAAM,IAAV,EAAgB;AACZ,YAAIE,MAAMjE,EAAE,IAAF,CAAV;AACA,YAAIoF,UAAUpF,EAAE,IAAF,EAAQ6B,IAAR,CAAa,SAAb,CAAd;AACAqC,UAAEY,cAAF;AACA9E,UAAEoE,IAAF,CAAO;AACHC,kBAAM,MADH;AAEHC,iBAAKtE,EAAE,kBAAF,EAAsByC,GAAtB,EAFF;AAGH8B,kBAAM;AACFa,yBAASA;AADP,aAHH;AAMHZ,qBAAS,iBAAUD,IAAV,EAAgB;AACrBE,wBAAQC,GAAR,CAAYH,IAAZ;AACA,oBAAIA,SAAS,GAAb,EACA;AACIQ,6BAASC,MAAT;AACH,iBAHD,MAGO;AACHlC,0BAAMyB,IAAN;AACH;AACJ,aAdE;AAeHK,mBAAO,eAAUC,WAAV,EAAuB;AAC1B/B,sBAAM,mEAAN;AACH;AAjBE,SAAP;AAmBH;AACJ,CA3BD;AA4BA9C,EAAE,qBAAF,EAAyB8D,EAAzB,CAA4B,OAA5B,EAAqC,UAAUI,CAAV,EAAa;AAC9CA,MAAEY,cAAF;AACA,QAAIf,IAAIC,QAAQ,mDAAR,CAAR;AACA,QAAID,MAAM,IAAV,EAAgB;AACZ/D,UAAE,YAAF,EAAgB6B,IAAhB,CAAqB,QAArB,EAA+B7B,EAAE,wBAAF,EAA4ByC,GAA5B,EAA/B,EAAkEZ,IAAlE,CAAuE,QAAvE,EAAiF,MAAjF;AACA7B,UAAE,YAAF,EAAgBqF,MAAhB;AACH;AACJ,CAPD;AAQArF,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,aAAxB,EAAuC,UAAUI,CAAV,EAAa;AAChDA,MAAEY,cAAF;AACA,QAAIM,UAAUpF,EAAE,IAAF,EAAQ6B,IAAR,CAAa,SAAb,CAAd;AACA,QAAIyC,MAAMtE,EAAE,gBAAF,EAAoByC,GAApB,EAAV;AACAzC,MAAEoE,IAAF,CAAO;AACHE,aAAKA,GADF;AAEHD,cAAM,MAFH;AAGHE,cAAM;AACFa,qBAASA;AADP,SAHH;AAMHZ,iBAAS,iBAAUD,IAAV,EAAgB;AACrBvE,cAAE,qCAAF,EAAyCiF,IAAzC,CAA8CV,IAA9C;AACH,SARE;AASHW,kBAAU,oBAAY;AAClBlF,cAAE,kBAAF,EAAsBmF,KAAtB,CAA4B,MAA5B;AACH;AAXE,KAAP;AAaH,CAjBD,E,CAiBG;;;AAGHnF,EAAE,yBAAF,EAA6B8D,EAA7B,CAAgC,OAAhC,EAAwC,YAAY;AAChD,QAAIwB,UAAUtF,EAAE,IAAF,EAAQ6B,IAAR,CAAa,OAAb,CAAd;AACAyD,cAAUA,QAAQjC,KAAR,CAAc,GAAd,CAAV;AACAiC,cAAUA,QAAQ,CAAR,CAAV;AACAtF,MAAE,4BAAF,EAAgCuF,GAAhC,CAAoC,WAAWD,OAA/C,EAAwDzD,IAAxD,CAA6D,OAA7D,EAAsE,GAAtE;AACA,QAAI7B,EAAE,WAAWsF,OAAb,EAAsB7C,GAAtB,OAAgC,GAApC,EACA;AACIzC,UAAE,WAAWsF,OAAb,EAAsBzD,IAAtB,CAA2B,OAA3B,EAAoC,KAApC,EAA2C2D,OAA3C,GAAqDC,IAArD,CACQ,YAAY;AACRzF,cAAE,YAAF,EAAgBqF,MAAhB;AACH,SAHT;AAKA;AACH;AACD,QAAIrF,EAAE,WAAWsF,OAAb,EAAsB7C,GAAtB,OAAgC,KAApC,EACA;AACIzC,UAAE,WAAWsF,OAAb,EAAsB7C,GAAtB,CAA0B,MAA1B,EAAkC+C,OAAlC,GAA4CC,IAA5C,CACQ,YAAY;AACRzF,cAAE,YAAF,EAAgBqF,MAAhB;AACH,SAHT;AAKA;AACH;AACD,QAAIrF,EAAE,WAAWsF,OAAb,EAAsB7C,GAAtB,OAAgC,MAApC,EACA;AACIzC,UAAE,WAAWsF,OAAb,EAAsB7C,GAAtB,CAA0B,GAA1B,EAA+B+C,OAA/B,GAAyCC,IAAzC,CACQ,YAAY;AACRzF,cAAE,YAAF,EAAgBqF,MAAhB;AACH,SAHT;AAKA;AACH;AACJ,CAhCD;AAiCA;;;AAGArF,EAAE,cAAF,EAAkB8D,EAAlB,CAAqB,QAArB,EAA+B,YAAY;AACvC9D,MAAE,YAAF,EAAgBqF,MAAhB;AACH,CAFD;;AAIA;;;AAGArF,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,QAAf,EAAyB,YAAY;AACjC;;;AAGA,QAAI9D,EAAE,iBAAF,EAAqBC,MAAzB,EAAiC;AAC7B,YAAID,EAAE,MAAF,EAAU0F,SAAV,KAAyB1F,EAAE,iBAAF,EAAqB2F,MAArB,GAA8BC,GAA3D,EAAiE;AAC7D5F,cAAE,cAAF,EAAkB6F,GAAlB,CAAsB;AAClB,2BAAW;AADO,aAAtB;AAGH,SAJD,MAIO;AACH7F,cAAE,cAAF,EAAkB6F,GAAlB,CAAsB;AAClB,2BAAW;AADO,aAAtB;AAGH;AACD;;;AAGA7F,UAAE,aAAF,EAAiBgB,IAAjB,CAAsB,YAAY;AAC9B,gBAAI8E,OAAO9F,EAAE,IAAF,EAAQ6B,IAAR,CAAa,IAAb,CAAX;AACA,gBAAIkE,UAAU/F,EAAE,IAAF,EAAQgG,KAAR,EAAd;AACA,gBAAIC,WAAWjG,EAAE,IAAF,EAAQkG,MAAR,EAAf;AACAlG,cAAE,QAAQ8F,IAAV,EAAgBE,KAAhB,CAAsBD,OAAtB;AACA/F,cAAE,QAAQ8F,IAAV,EAAgBI,MAAhB,CAAuBD,QAAvB;AACH,SAND;AAOA;;;AAGAjG,UAAE,aAAF,EAAiBgB,IAAjB,CAAsB,YAAY;AAC9B,gBAAI8E,OAAO9F,EAAE,IAAF,EAAQ6B,IAAR,CAAa,IAAb,CAAX;AACA,gBAAIkE,UAAU/F,EAAE,IAAF,EAAQgG,KAAR,EAAd;AACA,gBAAIC,WAAWjG,EAAE,IAAF,EAAQkG,MAAR,EAAf;AACAlG,cAAE,QAAQ8F,IAAV,EAAgBE,KAAhB,CAAsBD,OAAtB;AACA/F,cAAE,QAAQ8F,IAAV,EAAgBI,MAAhB,CAAuBD,QAAvB;AACH,SAND;AAOA;;;;AAIAjG,UAAE,mBAAF,EAAuB6F,GAAvB,CAA2B,KAA3B,EAAkC7F,EAAE,mBAAF,EAAuBkG,MAAvB,EAAlC;;AAEA;;;AAGR;AACA;AACK;AACJ,CA9CD,EA8CGlG,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,eAAxB,EAAyC,UAAUI,CAAV,EAAa;AACrD,QAAIH,IAAIC,QAAQ,oDAAR,CAAR;AACA,QAAID,KAAK,IAAT,EAAe;AACX,YAAIE,MAAMjE,EAAE,IAAF,CAAV;AACA,YAAImG,UAAUnG,EAAE,IAAF,EAAQ6B,IAAR,CAAa,SAAb,CAAd;AACAqC,UAAEY,cAAF;AACA9E,UAAEoE,IAAF,CAAO;AACHC,kBAAM,MADH;AAEHC,iBAAKtE,EAAE,WAAF,EAAeyC,GAAf,KAAuB,2BAFzB;AAGH8B,kBAAM;AACF4B,yBAASA;AADP,aAHH;AAMH3B,qBAAS,uBAAQ;AACbC,wBAAQC,GAAR,CAAYH,IAAZ;AACA,oBAAIA,SAAS,GAAb,EACA;AACIN,wBAAI3D,MAAJ,GAAaA,MAAb,GAAsBA,MAAtB,GAA+BqE,IAA/B;AACA;AACH,iBAJD,MAIO;AACH7B,0BAAMyB,IAAN;AACH;AACJ,aAfE;AAgBHK,mBAAO;AAAA,uBAAe9B,MAAM+B,WAAN,CAAf;AAAA;AAhBJ,SAAP;AAkBH;AACJ,CAzBE;AA0BH7E,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,aAAxB,EAAuC,UAAUI,CAAV,EAAa;AAChDA,MAAEY,cAAF;AACA,QAAIqB,UAAUnG,EAAE,IAAF,EAAQ6B,IAAR,CAAa,SAAb,CAAd;AACA,QAAIyC,MAAMtE,EAAE,WAAF,EAAeyC,GAAf,KAAuB,8BAAjC;AACAzC,MAAEoE,IAAF,CAAO;AACHE,aAAKA,GADF;AAEHD,cAAM,MAFH;AAGHE,cAAM;AACF4B,qBAASA;AADP,SAHH;AAMH3B,iBAAS,uBAAQ;AACbC,oBAAQC,GAAR,CAAYH,IAAZ;AACAvE,cAAE,qCAAF,EAAyCiF,IAAzC,CAA8CV,IAA9C;AACH,SATE;AAUHW,kBAAU;AAAA,mBAAMlF,EAAE,kBAAF,EAAsBmF,KAAtB,CAA4B,MAA5B,CAAN;AAAA;AAVP,KAAP;AAYH,CAhBD;AAiBAnF,EAAE,mBAAF,EAAuB8D,EAAvB,CAA0B,OAA1B,EAAmC,UAAUI,CAAV,EAAa;AAC5CA,MAAEY,cAAF;AACA9E,MAAE,iBAAF,EAAqB6B,IAArB,CAA0B,QAA1B,EAAoC7B,EAAE,WAAF,EAAeyC,GAAf,KAAuB,sBAA3D;AACAzC,MAAE,iBAAF,EAAqBqF,MAArB;AACH,CAJD;AAKArF,EAAE,+BAAF,EAAmC8D,EAAnC,CAAsC,OAAtC,EAA8C,UAAUI,CAAV,EAAa;AACvDA,MAAEY,cAAF;AACA9E,MAAE,iBAAF,EAAqB6B,IAArB,CAA0B,QAA1B,EAAoC7B,EAAE,WAAF,EAAeyC,GAAf,KAAuB,8BAA3D;AACAzC,MAAE,iBAAF,EAAqBqF,MAArB;AACH,CAJD;AAKArF,EAAE,mBAAF,EAAuB8D,EAAvB,CAA0B,OAA1B,EAAmC,UAAUI,CAAV,EAAa;AAC5CA,MAAEY,cAAF;AACA,QAAIsB,eAAe,IAAIC,KAAJ,EAAnB;AACArG,MAAE,eAAF,EAAmBgB,IAAnB,CAAwB,YAAY;AAChCoF,qBAAaE,IAAb,CAAkBtG,EAAE,IAAF,EAAQyC,GAAR,EAAlB;AACH,KAFD;AAGAzC,MAAEoE,IAAF,CAAO;AACHE,aAAKtE,EAAE,WAAF,EAAeyC,GAAf,KAAuB,sBADzB;AAEH4B,cAAM,MAFH;AAGHE,cAAM;AACF9C,wBAAY2E;AADV,SAHH;AAMH5B,iBAAS,iBAAUD,IAAV,EAAgB;AACrBE,oBAAQC,GAAR,CAAYH,IAAZ;AACAvE,cAAE,oBAAF,EAAwBQ,IAAxB,CAA6B+D,IAA7B;AACH,SATE;AAUHW,kBAAU,oBAAY;AAClBlF,cAAE,yBAAF,EAA6BmF,KAA7B,CAAmC,MAAnC;AACH;AAZE,KAAP;AAcH,CApBD,EAoBGnF,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,kBAAxB,EAA4C,UAAUI,CAAV,EAAa;AACxDlE,MAAE,iBAAF,EAAqBkB,WAArB,CAAiC,aAAjC;AACAgD,MAAEY,cAAF;AACA9E,MAAE,yBAAF,EAA6BmF,KAA7B,CAAmC,MAAnC;AACH,CAJE;;AAMHnF,EAAE,+BAAF,EAAmC8D,EAAnC,CAAsC,OAAtC,EAA+C,UAAUI,CAAV,EAAa;AACxDA,MAAEY,cAAF;AACA,QAAIF,QAAQ,KAAZ;;AAEA,QAAI,CAACA,KAAL,EAAY;AACR,YAAIN,MAAMtE,EAAE,WAAF,EAAeyC,GAAf,KAAuB,sCAAjC;AACA;;;AAGA,YAAI8D,iBAAiB,EAArB;AACAvG,UAAE,wBAAF,EAA4BgB,IAA5B,CACQ,YAAY;AACR,gBAAIhB,EAAE,IAAF,EAAQiB,EAAR,CAAW,UAAX,CAAJ,EAA4B;AACxBsF,+BAAeD,IAAf,CAAoBtG,EAAE,IAAF,EAAQyC,GAAR,EAApB;AACH;AACJ,SALT;AAMAzC,UAAEoE,IAAF,CAAO;AACHE,iBAAKA,GADF;AAEHD,kBAAM,MAFH;AAGHmC,sBAAU,MAHP;AAIHjC,kBAAMvE,EAAE,iBAAF,EAAqByG,SAArB,EAJH;AAKHjC,qBAAS,iBAAUD,IAAV,EAAgB;AACrB,oBAAIA,KAAKC,OAAL,IAAgB,CAApB,EAAuB;AACnBxE,sBAAE,mBAAF,EAAuB,CAAvB,EAA0B0G,IAA1B;AACA1G,sBAAES,MAAF,CAAS8D,KAAKoC,OAAd,EAAuB;AACnBhG,kCAAU,UADS;AAEnBC,mCAAW,SAFQ;AAGnBC,sCAAc,GAHK;AAInBC,uCAAe;AAJI,qBAAvB;AAMAd,sBAAEgB,IAAF,CAAOuF,cAAP,EAAuB,YAAU;AAC7BvG,0BAAE,oBAAkB,IAAlB,GAAuB,IAAzB,EAA+B4G,MAA/B;AACH,qBAFD;AAGA5G,sBAAE,yBAAF,EAA6BmF,KAA7B,CAAmC,MAAnC;AACH,iBAZD,MAYO;AACHnF,sBAAE,mBAAF,EAAuB,CAAvB,EAA0B0G,IAA1B;AACA1G,sBAAES,MAAF,CAAS,8BAA8B8D,KAAKoC,OAA5C,EAAqD;AACjDhG,kCAAU,UADuC;AAEjDC,mCAAW,OAFsC;AAGjDC,sCAAc,GAHmC;AAIjDC,uCAAe;AAJkC,qBAArD;AAMH;AACJ,aA3BE;AA4BHoE,sBAAU,oBAAY,CAErB;AA9BE,SAAP;AAgCA;AACH;AACJ,CAlDD;AAmDAlF,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,gBAAxB,EAA0C,UAAUI,CAAV,EAAa;AACnDA,MAAEY,cAAF;AACA9E,MAAE,UAAF,EAAckB,WAAd,CAA0B,SAA1B;AACAlB,MAAE,IAAF,EAAQM,MAAR,GAAiBA,MAAjB,GAA0BwB,QAA1B,CAAmC,SAAnC;AACA,QAAIL,aAAazB,EAAE,IAAF,EAAQ6B,IAAR,CAAa,YAAb,CAAjB;AACA,QAAIyC,MAAMtE,EAAE,WAAF,EAAeyC,GAAf,KAAuB,gCAAjC;AACAzC,MAAEoE,IAAF,CAAO;AACHE,aAAKA,GADF;AAEHD,cAAM,MAFH;AAGHE,cAAM;AACF9C,wBAAYA;AADV,SAHH;AAMH+C,iBAAS;AAAA,mBAAQxE,EAAE,qBAAF,EAAyBiF,IAAzB,CAA8BV,IAA9B,CAAR;AAAA,SANN;AAOHW,kBAAU;AAAA,mBAAOlF,EAAE,qBAAF,EAAyBmF,KAAzB,CAA+B,MAA/B,CAAP;AAAA;AAPP,KAAP;AASH,CAfD;;AAiBAnF,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,mBAAxB,EAA6C,UAAUI,CAAV,EAAa;AACtDA,MAAEY,cAAF;AACA,QAAGvC,wBAAwB,KAA3B,EAAkC;AAC9B,eAAO,KAAP;AACH;AACD,QAAI+B,MAAMtE,EAAE,IAAF,EAAQ6G,OAAR,CAAgB,0BAAhB,EAA4ChF,IAA5C,CAAiD,QAAjD,CAAV;AACA,QAAIJ,aAAazB,EAAE,IAAF,EAAQ6G,OAAR,CAAgB,0BAAhB,EAA4ChF,IAA5C,CAAiD,YAAjD,CAAjB;AACA7B,MAAEoE,IAAF,CAAO;AACHE,aAAKA,GADF;AAEHD,cAAM,MAFH;AAGHmC,kBAAU,MAHP;AAIHjC,cAAMvE,EAAE,0BAAF,EAA8ByG,SAA9B,EAJH;AAKHjC,iBAAS,uBAAQ;AACb,gBAAID,KAAKC,OAAL,IAAgB,CAApB,EAAuB;AACnBxE,kBAAE,mBAAF,EAAuB,CAAvB,EAA0B0G,IAA1B;AACA1G,kBAAES,MAAF,CAAS8D,KAAKoC,OAAd,EAAuB;AACnBhG,8BAAU,UADS;AAEnBC,+BAAW,SAFQ;AAGnBC,kCAAc,GAHK;AAInBC,mCAAe;AAJI,iBAAvB;AAMAd,kBAAE,qBAAF,EAAyBmF,KAAzB,CAA+B,MAA/B;AACAnF,kBAAE,oBAAkByB,UAAlB,GAA6B,IAA/B,EAAqCmF,MAArC;AACH,aAVD,MAUO;AACH5G,kBAAE,mBAAF,EAAuB,CAAvB,EAA0B0G,IAA1B;AACA1G,kBAAES,MAAF,CAAS,8BAA8B8D,KAAKoC,OAA5C,EAAqD;AACjDhG,8BAAU,UADuC;AAEjDC,+BAAW,OAFsC;AAGjDC,kCAAc,GAHmC;AAIjDC,mCAAe;AAJkC,iBAArD;AAMH;AACJ;AAzBE,KAAP;AA2BH,CAlCD;;AAoCAd,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,QAAf,EAAyB,gCAAzB,EAA2D,UAAUI,CAAV,EAAa;AACpE,QAAIlE,EAAE,IAAF,EAAQyC,GAAR,MAAiB,CAArB,EAAwB;AACpBzC,UAAE,WAAF,EAAe8G,IAAf,CAAoB,IAApB;AACH,KAFD,MAEO;AACH9G,UAAE,WAAF,EAAe2E,IAAf;AACH;AACD,QAAI3E,EAAE,IAAF,EAAQyC,GAAR,MAAiB,CAArB,EAAwB;AACpBzC,UAAE,UAAF,EAAc8G,IAAd,CAAmB,IAAnB;AACH,KAFD,MAEO;AACH9G,UAAE,UAAF,EAAc2E,IAAd;AACH;AACDoC;AACH,CAZD;;AAeA,SAASA,sBAAT,GAAkC;AAC9B,QAAI/G,EAAE,UAAF,EAAckG,MAAd,KAAyBlG,EAAE,UAAF,EAAckG,MAAd,EAA7B,EACA;AACIlG,UAAE,UAAF,EAAckG,MAAd,CAAqBlG,EAAE,UAAF,EAAckG,MAAd,EAArB;AACH,KAHD,MAIA;AACIlG,UAAE,UAAF,EAAckG,MAAd,CAAqBlG,EAAE,UAAF,EAAckG,MAAd,EAArB;AACH;AACJ;;AAEDlG,EAAE,qBAAF,EAAyB8D,EAAzB,CAA4B,gBAA5B,EAA8C,YAAY;AACtD9D,MAAE,iBAAF,EAAqBgH,cAArB,CACQ;AACIC,gBAAQ;AADZ,KADR;AAIA,QAAIjH,EAAE,gCAAF,EAAoCyC,GAApC,MAA6C,CAAjD,EAAoD;AAChDzC,UAAE,WAAF,EAAe2E,IAAf;AACH;AACD,QAAI3E,EAAE,gCAAF,EAAoCyC,GAApC,MAA6C,CAAjD,EAAoD;AAChDzC,UAAE,UAAF,EAAc2E,IAAd;AACH;AACJ,CAXD,EAWG3E,EAAE,YAAY;AACbkH,eAAY,YAAM;AACd,YAAIlH,EAAE,eAAF,EAAmBkG,MAAnB,KAA8BlG,EAAE,eAAF,EAAmBkG,MAAnB,EAAlC,EACA;AACIlG,cAAE,eAAF,EAAmBkG,MAAnB,CAA0BlG,EAAE,eAAF,EAAmBkG,MAAnB,EAA1B;AACH,SAHD,MAIA;AACIlG,cAAE,eAAF,EAAmBkG,MAAnB,CAA0BlG,EAAE,eAAF,EAAmBkG,MAAnB,EAA1B;AACH;AACJ,KARD,EAQG,GARH;AASH,CAVE;AAWH;;;;;AAKAlG,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,0BAAxB,EAAoD,UAAUI,CAAV,EAAa;AAC7DA,MAAEY,cAAF;AACA,QAAI9E,EAAE,sBAAF,EAA0ByC,GAA1B,MAAmC,CAAvC,EAA0C;AACtCzC,UAAE,mBAAF,EAAuB,CAAvB,EAA0B0G,IAA1B;AACA1G,UAAES,MAAF,CAAS,0FAAT,EAAqG;AACjGE,sBAAU,UADuF;AAEjGC,uBAAW,OAFsF;AAGjGC,0BAAc,GAHmF;AAIjGC,2BAAe;AAJkF,SAArG;AAMA,eAAO,KAAP;AACH;AACD,QAAIW,aAAazB,EAAE,IAAF,EAAQ6B,IAAR,CAAa,YAAb,CAAjB;AACA,QAAIyC,MAAMtE,EAAE,WAAF,EAAeyC,GAAf,KAAuB,gCAAjC;AACAzC,MAAEoE,IAAF,CAAO;AACHE,aAAKA,GADF;AAEHD,cAAM,MAFH;AAGHE,cAAM;AACF9C,wBAAYA;AADV,SAHH;AAMH+E,kBAAU,MANP;AAOHW,oBAAY;AAAA,mBAAMnH,EAAE,gBAAF,EAAoB8G,IAApB,EAAN;AAAA,SAPT;AAQHtC,iBAAS,uBAAQ;AACbC,oBAAQC,GAAR,CAAYH,KAAKC,OAAjB;AACA,gBAAID,KAAKC,OAAL,IAAgB,CAApB,EAAuB;AACnBxE,kBAAE,mBAAF,EAAuB,CAAvB,EAA0B0G,IAA1B;AACA1G,kBAAES,MAAF,CAAS,8BAA8B8D,KAAKoC,OAA5C,EAAqD;AACjDhG,8BAAU,UADuC;AAEjDC,+BAAW,OAFsC;AAGjDC,kCAAc,GAHmC;AAIjDC,mCAAe;AAJkC,iBAArD;AAMH,aARD,MAQO;AACHd,kBAAE,mBAAF,EAAuB,CAAvB,EAA0B0G,IAA1B;AACA1G,kBAAES,MAAF,CAAS,uBAAT,EAAkC;AAC9BE,8BAAU,UADoB;AAE9BC,+BAAW,SAFmB;AAG9BC,kCAAc,GAHgB;AAI9BC,mCAAe;AAJe,iBAAlC;AAMH;AACJ,SA3BE;AA4BHoE,kBAAU;AAAA,mBAAMlF,EAAE,gBAAF,EAAoB2E,IAApB,EAAN;AAAA,SA5BP;AA6BHC,eAAO,iBAAM;AACT5E,cAAE,mBAAF,EAAuB,CAAvB,EAA0B0G,IAA1B;AACA1G,cAAES,MAAF,CAAS,0CAAT,EAAqD;AACjDE,0BAAU,UADuC;AAEjDC,2BAAW,OAFsC;AAGjDC,8BAAc,GAHmC;AAIjDC,+BAAe;AAJkC,aAArD;AAMH;AArCE,KAAP;AAuCH,CArDD;;AAuDA;;;;;AAKAd,EAAE6D,QAAF,EAAYC,EAAZ,CAAe,OAAf,EAAwB,wBAAxB,EAAkD,UAAUI,CAAV,EAAa;AAC3DA,MAAEY,cAAF;AACA,QAAIrD,aAAazB,EAAE,IAAF,EAAQ6B,IAAR,CAAa,YAAb,CAAjB;AACA,QAAIyC,MAAMtE,EAAE,WAAF,EAAeyC,GAAf,KAAuB,8BAAjC;AACAzC,MAAEoE,IAAF,CAAO;AACHE,aAAKA,GADF;AAEHD,cAAM,MAFH;AAGHE,cAAM;AACF9C,wBAAYA,UADV;AAEF2F,kBAAMpH,EAAE,oBAAF,EAAwByC,GAAxB,EAFJ;AAGF4E,mBAAOrH,EAAE,qBAAF,EAAyByC,GAAzB,EAHL;AAIFI,4BAAgB7C,EAAE,8BAAF,EAAkCyC,GAAlC;AAJd,SAHH;AASH+D,kBAAU,MATP;AAUHW,oBAAY;AAAA,mBAAMnH,EAAE,gBAAF,EAAoB8G,IAApB,EAAN;AAAA,SAVT;AAWHtC,iBAAS,uBAAQ;AACb,gBAAID,KAAKC,OAAL,IAAgB,CAApB,EAAuB;AACnBxE,kBAAE,mBAAF,EAAuB,CAAvB,EAA0B0G,IAA1B;AACA1G,kBAAES,MAAF,CAAS,uBAAT,EAAkC;AAC9BE,8BAAU,UADoB;AAE9BC,+BAAW,SAFmB;AAG9BC,kCAAc,GAHgB;AAI9BC,mCAAe;AAJe,iBAAlC;AAMH,aARD,MAQO;AACHd,kBAAE,mBAAF,EAAuB,CAAvB,EAA0B0G,IAA1B;AACA1G,kBAAES,MAAF,CAAS,8BAA8B8D,KAAKoC,OAA5C,EAAqD;AACjDhG,8BAAU,UADuC;AAEjDC,+BAAW,OAFsC;AAGjDC,kCAAc,GAHmC;AAIjDC,mCAAe;AAJkC,iBAArD;AAMH;AACJ,SA7BE;AA8BHoE,kBAAU;AAAA,mBAAMlF,EAAE,gBAAF,EAAoB2E,IAApB,EAAN;AAAA,SA9BP;AA+BHC,eAAO,iBAAM;AACT5E,cAAE,mBAAF,EAAuB,CAAvB,EAA0B0G,IAA1B;AACA1G,cAAES,MAAF,CAAS,0CAAT,EAAqD;AACjDE,0BAAU,UADuC;AAEjDC,2BAAW,OAFsC;AAGjDC,8BAAc,GAHmC;AAIjDC,+BAAe;AAJkC,aAArD;AAMH;AAvCE,KAAP;AAyCH,CA7CD;;AA+CA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKAd,EAAE,WAAF,EAAe8D,EAAf,CAAkB,OAAlB,EAA2B,iBAA3B,EAA8C,UAAUI,CAAV,EAAa;AACvDA,MAAEoD,eAAF;AACApD,MAAEY,cAAF;AACA,QAAIlD,gBAAgB5B,EAAE,IAAF,EAAQ6B,IAAR,CAAa,eAAb,CAApB;AACA,QAAI0F,sBAAsBvH,EAAE,IAAF,EAAQ6B,IAAR,CAAa,qBAAb,CAA1B;AACA,QAAIL,aAAaxB,EAAE,IAAF,EAAQ6B,IAAR,CAAa,YAAb,CAAjB;AACA,QAAIyC,MAAMtE,EAAE,WAAF,EAAeyC,GAAf,KAAuB,0BAAjC;AACA;AACAzC,MAAEoE,IAAF,CAAO;AACHE,aAAKA,GADF;AAEHD,cAAM,MAFH;AAGHE,cAAM;AACF3C,2BAAeA,aADb;AAEF2F,iCAAqBA,mBAFnB;AAGF/F,wBAAYA;AAHV,SAHH;AAQHgD,iBAAS;AAAA,mBAAQxE,EAAE,uCAAF,EAA2CiF,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","file":"built2.js","sourcesContent":["/* \r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n\r\n\r\nshow_number_selected_row = () => {\r\n    var numberOfChecked = $('input:checkbox:checked').length;\r\n    var totalCheckboxes = $('input:checkbox').length;\r\n    /*\r\n     * Lấy tổng giá\r\n     */\r\n    var sum = 0;\r\n    for(i = 0; i < numberOfChecked; i++){\r\n        sum += parseInt($($('input:checkbox:checked')[i]).parent().parent().find('.tbl_price_purchase').text());\r\n    }\r\n    $.notify(`Đã chọn: ${numberOfChecked} / ${totalCheckboxes}. tổng tiền = ${sum.toLocaleString()}`, {\r\n        position: \"top left\",\r\n        className: 'success',\r\n        showDuration: 200,\r\n        autoHideDelay: 3000\r\n    });\r\n};\r\n\r\nunselect_not_checked = () => {\r\n    $('input[type=\"checkbox\"]').each(\r\n             () => {\r\n                if (!$(this).is(\":checked\")) {\r\n                    $(this).parent().parent().removeClass('checked');\r\n                }\r\n            });\r\n};\r\n\r\nunselect_checked = () => {\r\n    $('input[type=\"checkbox\"]').each(\r\n             () => {\r\n                if ($(this).is(\":checked\")) {\r\n                    $(this).parent().parent().removeClass('checked');\r\n                }\r\n            });\r\n};\r\nuncheck_checked = () => {\r\n    $('input[type=\"checkbox\"]').each(\r\n            () => {\r\n                if ($(this).is(\":checked\")) {\r\n                    $(this).prop(\"checked\", false);\r\n                }\r\n            });\r\n};\r\nuncheck_not_checked = () => {\r\n    $('input[type=\"checkbox\"]').each(\r\n            () => {\r\n                if (!$(this).is(\":checked\")) {\r\n                    $(this).prop(\"checked\", false);\r\n                }\r\n            });\r\n};\r\n\r\nright_context_menu_display = (controller, contact_id, contact_name, duplicate_id, contact_phone) => {\r\n    $(\".action_view_detail_contact\").attr('contact_id', contact_id);\r\n    $(\"a.view_duplicate\").attr(\"duplicate_id\", duplicate_id);\r\n    $(\"a.send_to_mobile\").attr(\"contact_name\", contact_name).attr(\"contact_phone\", contact_phone);\r\n    /*\r\n     * Nếu chọn nhiều contact thì ẩn menu xem chi tiết contact \r\n     * và phân 1 contact\r\n     */\r\n    var numberOfChecked = $('input:checkbox:checked').length;\r\n    if (numberOfChecked > 1) {\r\n        $(\"a.view_duplicate, .action_view_detail_contact, .divide_one_contact_achor, \"\r\n                + \".edit_contact, .transfer_one_contact, .send_to_mobile\").addClass(\"hidden\");\r\n        $(\".divide_multi_contact,.transfer_contact, \"\r\n                + \".select_provider, .btn-export-excel, .btn-export-excel-for-viettel, .export_to_string\").removeClass('hidden');\r\n    } else {\r\n        $(\".action_view_detail_contact, .divide_one_contact_achor, a.view_duplicate, \"\r\n                + \".edit_contact, .transfer_one_contact, .send_to_mobile\").removeClass(\"hidden\");\r\n        $(\".divide_multi_contact, .transfer_contact, \"\r\n                + \".select_provider, .export_to_string\").addClass('hidden');\r\n        if (duplicate_id > 0) {\r\n            $(\"a.view_duplicate\").removeClass(\"hidden\");\r\n        } else {\r\n            $(\"a.view_duplicate\").addClass(\"hidden\");\r\n        }\r\n    }\r\n\r\n    if (controller === 'manager') {\r\n        $(\".divide_one_contact_achor\").attr('contact_id', contact_id);\r\n        $(\".divide_one_contact_achor\").attr('contact_name', contact_name);\r\n        /*\r\n         * Nếu contact trùng thì ẩn tính năng bàn giao contact\r\n         */\r\n        if (numberOfChecked < 1) {\r\n            if (duplicate_id > 0) {\r\n                $(\".divide_one_contact_achor\").addClass('hidden');\r\n            }\r\n            /*\r\n             * Nếu contact không trùng thì ẩn tính năng xem contact trùng\r\n             */\r\n            else {\r\n                $(\".divide_one_contact_achor\").removeClass('hidden');\r\n            }\r\n        }\r\n    } else if (controller === 'sale' || controller === 'cod') {\r\n        $(\".edit_contact\").attr('contact_id', contact_id);\r\n        $(\".transfer_one_contact\").attr('contact_id', contact_id);\r\n        $(\".transfer_one_contact\").attr('contact_name', contact_name);\r\n    }\r\n};\r\n\r\n/* \r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n\r\nconst _SO_MAY_SAI_ = 1;\r\nconst _KHONG_NGHE_MAY_ = 2;\r\nconst _NHAM_MAY_ = 3;\r\nconst _DA_LIEN_LAC_DUOC_ = 4;\r\nconst _CONTACT_CHET_ = 5;\r\n\r\nconst _CHUA_CHAM_SOC_ = 0;\r\nconst _TU_CHOI_MUA_ = 3;\r\nconst _DONG_Y_MUA_ = 4;\r\n\r\ncheck_edit_contact = () => {\r\n    var call_status_id = $(\"select[name='call_status_id']\").val();\r\n    var ordering_status_id = $(\"select[name='ordering_status_id']\").val();\r\n    var date_recall = $(\".date_recall\").val();\r\n    var course_code = $('select.select_course_code').val();\r\n    var price_purchase = $('[name=\"price_purchase\"]').val();\r\n    if ($(\"select.edit_payment_method_rgt\").val() == 0) {\r\n        alert(\"Bạn cần cập nhật hình thức thanh toán!\");\r\n        return false;\r\n    }\r\n    if (call_status_id == 0) {\r\n        alert(\"Bạn cần cập nhật trạng thái gọi!\");\r\n        return false;\r\n    }\r\n    if (check_rule_call_stt(call_status_id, ordering_status_id) == false) {\r\n        alert(\"Trạng thái gọi và trạng thái đơn hàng không logic!\");\r\n        return false;\r\n    }\r\n    if (date_recall != '') {\r\n        if (now_greater_than_input_date(date_recall)) {\r\n            alert(\"Ngày gọi lại không thể là một ngày trước ngày hôm nay!\");\r\n            return false;\r\n        }\r\n        if (check_rule_call_stt_and_date_recall(call_status_id, ordering_status_id, date_recall)) {\r\n            alert(\"Nếu contact không liên lạc được hoặc không thể chăm sóc được nữa thì không thể có ngày gọi lại lớn hơn ngày hiện tại!\");\r\n            return false;\r\n        }\r\n    }\r\n    if (course_code == '0') {\r\n        alert(\"Vui lòng chọn mã khóa học!\");\r\n        return false;\r\n    }\r\n    if (price_purchase == '') {\r\n        alert(\"Vui lòng chọn giá tiền mua!\");\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\ncheck_rule_call_stt = (call_status_id, ordering_status_id) => {\r\n    if (call_status_id == _SO_MAY_SAI_ || call_status_id == _KHONG_NGHE_MAY_ || call_status_id == _NHAM_MAY_) {\r\n        if (ordering_status_id != _CHUA_CHAM_SOC_) {\r\n            return false;\r\n        }\r\n    }\r\n    if (call_status_id == _DA_LIEN_LAC_DUOC_) {\r\n        if (ordering_status_id == _CHUA_CHAM_SOC_) {\r\n            return false;\r\n        }\r\n    }\r\n//        if (call_status_id == _CONTACT_CHET_ && (ordering_status_id == _DONG_Y_MUA_ || ordering_status_id == _TU_CHOI_MUA_)) {\r\n//            return false;\r\n//        }\r\n    return true;\r\n};\r\n\r\ncheck_rule_call_stt_and_date_recall = (call_status_id, ordering_status_id, date_recall) => {\r\n    if (stop_care(call_status_id, ordering_status_id) && now_greater_than_input_date(date_recall)) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nstop_care = (call_status_id, ordering_status_id) => {\r\n    if (call_status_id == _SO_MAY_SAI_ || call_status_id == _NHAM_MAY_ || call_status_id == _KHONG_NGHE_MAY_\r\n            || ordering_status_id == _DONG_Y_MUA_ || ordering_status_id == _TU_CHOI_MUA_ || ordering_status_id == _CONTACT_CHET_) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nnow_greater_than_input_date = date_string => {\r\n    var date_arr = date_string.split(/-/);\r\n    var year = date_arr[2];\r\n    var month = date_arr[1];\r\n    var day = date_arr[0];\r\n    var now_timestamp = new Date();\r\n    now_timestamp = now_timestamp.getTime();\r\n    var input_timestamp = new Date(year, month - 1, day);\r\n    input_timestamp = input_timestamp.getTime();\r\n    return (now_timestamp > input_timestamp);\r\n};\r\n\r\n\r\n$(document).on('click', 'a.delete_one_contact_admin', e => {\r\n    var r = confirm(\"Bạn có chắc chắn muốn xóa contact này không?\");\r\n    if (r == true) {\r\n        var del = $(e.target);\r\n        var contact_id = $(e.target).attr(\"contact_id\");\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: $(\"#base_url\").val() + \"admin/delete_one_contact\",\r\n            data: {\r\n                contact_id: contact_id\r\n            },\r\n            success: data => {\r\n                console.log(data);\r\n                if (data === '1')\r\n                {\r\n                    del.parent().parent().hide();\r\n                    //location.reload();\r\n                } else {\r\n                    alert(data);\r\n                }\r\n            },\r\n            error: errorThrown => alert(errorThrown)\r\n        });\r\n        return false;\r\n    }\r\n});\r\n$(document).on('click', 'a.delete_forever_one_contact_admin', function (e) {\r\n    var r = confirm(\"Bạn có chắc chắn muốn xóa contact này không?\");\r\n    if (r == true) {\r\n        var del = $(this);\r\n        var contact_id = $(this).attr(\"contact_id\");\r\n        e.preventDefault();\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: $(\"#base_url\").val() + \"admin/delete_forever_one_contact\",\r\n            data: {\r\n                contact_id: contact_id\r\n            },\r\n            success: data => {\r\n                if (data === '1')\r\n                {\r\n                    del.parent().parent().hide();\r\n                    //location.reload();\r\n                } else {\r\n                    alert(data);\r\n                }\r\n            },\r\n            error: errorThrown => alert(errorThrown)\r\n        });\r\n    }\r\n});\r\n\r\n\r\n/* \r\n * Copyright (C) 2017 Phạm Ngọc Chuyển <chuyenpn at lakita.vn>\r\n *\r\n */\r\n$(document).on('click', 'a.retrieve_contact', function (e) {\r\n    var r = confirm(\"Bạn có chắc chắn muốn thu hồi contact này không?\");\r\n    if (r == true) {\r\n        var del = $(this);\r\n        var contact_id = $(this).attr(\"contact_id\");\r\n        e.preventDefault();\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: $(\"#base_url\").val() + \"admin/retrieve_contact\",\r\n            data: {\r\n                contact_id: contact_id\r\n            },\r\n            success: data => {\r\n                if (data === '1')\r\n                {\r\n                    alert('Thu hồi thành công contact');\r\n                    //del.parent().parent().hide();\r\n                    location.reload();\r\n                } else {\r\n                    alert(data);\r\n                }\r\n            },\r\n            error: errorThrown => alert(errorThrown)\r\n        });\r\n    }\r\n});\r\n\r\n$(document).on('click', 'a.add_item', function (e) {\r\n    e.preventDefault();\r\n    var url = $(\"#url_add_item\").val();\r\n    $.ajax({\r\n        url: url,\r\n        type: \"POST\",\r\n        success: function (data) {\r\n            $(\"div.replace_content_add_item_modal\").html(data);\r\n        },\r\n        complete: function () {\r\n            $(\".add_item_modal\").modal(\"show\");\r\n        }\r\n    });\r\n});\r\n\r\n$(document).on('click', 'a.delete_item', function (e) {\r\n    e.preventDefault();\r\n    var r = confirm(\"Bạn có chắc chắn muốn xóa dòng này không?\");\r\n    if (r === true) {\r\n        var del = $(this);\r\n        var item_id = $(this).attr(\"item_id\");\r\n        e.preventDefault();\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: $(\"#url_delete_item\").val(),\r\n            data: {\r\n                item_id: item_id\r\n            },\r\n            success: function (data) {\r\n                console.log(data);\r\n                if (data === '1')\r\n                {\r\n                    location.reload();\r\n                } else {\r\n                    alert(data);\r\n                }\r\n            },\r\n            error: function (errorThrown) {\r\n                alert('Không thể xóa do foreign-key, liên hệ admin để biết thêm chi tiết');\r\n            }\r\n        });\r\n    }\r\n});\r\n$(\"a.delete_multi_item\").on('click', function (e) {\r\n    e.preventDefault();\r\n    var r = confirm(\"Bạn có chắc chắn muốn xóa các dòng đã chọn không?\");\r\n    if (r === true) {\r\n        $(\"#form_item\").attr(\"action\", $(\"#url_delete_multi_item\").val()).attr(\"method\", \"POST\");\r\n        $(\"#form_item\").submit();\r\n    }\r\n});\r\n$(document).on('click', 'a.edit_item', function (e) {\r\n    e.preventDefault();\r\n    var item_id = $(this).attr(\"item_id\");\r\n    var url = $(\"#url_edit_item\").val();\r\n    $.ajax({\r\n        url: url,\r\n        type: \"POST\",\r\n        data: {\r\n            item_id: item_id\r\n        },\r\n        success: function (data) {\r\n            $(\"div.replace_content_edit_item_modal\").html(data);\r\n        },\r\n        complete: function () {\r\n            $(\".edit_item_modal\").modal(\"show\");\r\n        }\r\n    });\r\n});/*\r\n * Real order\r\n */\r\n$('th[class^=\"order_new_\"]').on('click',function () {\r\n    var myclass = $(this).attr(\"class\");\r\n    myclass = myclass.split(/ /);\r\n    myclass = myclass[0];\r\n    $('input[class^=\"order_new_\"]').not(\"input.\" + myclass).attr('value', '0');\r\n    if ($(\"input.\" + myclass).val() === '0')\r\n    {\r\n        $(\"input.\" + myclass).attr('value', 'ASC').promise().done(\r\n                function () {\r\n                    $(\"#form_item\").submit();\r\n                }\r\n        );\r\n        return;\r\n    }\r\n    if ($(\"input.\" + myclass).val() === 'ASC')\r\n    {\r\n        $(\"input.\" + myclass).val('DESC').promise().done(\r\n                function () {\r\n                    $(\"#form_item\").submit();\r\n                }\r\n        );\r\n        return;\r\n    }\r\n    if ($(\"input.\" + myclass).val() === 'DESC')\r\n    {\r\n        $(\"input.\" + myclass).val('0').promise().done(\r\n                function () {\r\n                    $(\"#form_item\").submit();\r\n                }\r\n        );\r\n        return;\r\n    }\r\n});\r\n/*\r\n * Real filter\r\n */\r\n$(\".real_filter\").on('change', function () {\r\n    $(\"#form_item\").submit();\r\n});\r\n\r\n/*\r\n * Cố định thanh <thead> và phần search của table\r\n */\r\n$(document).on('scroll', function () {\r\n    /*\r\n     * Khi cuộn chuột quá vị trí của phần thead thì thead ẩn đi và phần thead-fixed hiện lên\r\n     */\r\n    if ($(\".table-head-pos\").length) {\r\n        if ($(\"body\").scrollTop() > ($(\".table-head-pos\").offset().top)) {\r\n            $(\".fixed-table\").css({\r\n                \"display\": \"block\"\r\n            });\r\n        } else {\r\n            $(\".fixed-table\").css({\r\n                \"display\": \"none\"\r\n            });\r\n        }\r\n        /*\r\n         * Điều chỉnh lại kích cỡ của các th phần thead\r\n         */\r\n        $('[id^=\"th_\"]').each(function () {\r\n            var myID = $(this).attr(\"id\");\r\n            var mywidth = $(this).width();\r\n            var myheight = $(this).height();\r\n            $(\"#f_\" + myID).width(mywidth);\r\n            $(\"#f_\" + myID).height(myheight);\r\n        });\r\n        /*\r\n         * Điều chỉnh lại kích cỡ của các td phần tbody (các ô search)\r\n         */\r\n        $('[id^=\"td_\"]').each(function () {\r\n            var myID = $(this).attr(\"id\");\r\n            var mywidth = $(this).width();\r\n            var myheight = $(this).height();\r\n            $(\"#f_\" + myID).width(mywidth);\r\n            $(\"#f_\" + myID).height(myheight);\r\n        });\r\n        /*\r\n         * Căn chỉnh phần search cho khớp xuống dưới phần head \r\n         * (vì cùng là position fixed nên top mặc định bằn 0 => bị đè vị trí lên nhau)\r\n         */\r\n        $(\"tbody.fixed-table\").css(\"top\", $(\"thead.fixed-table\").height());\r\n\r\n        /*\r\n         * Căn chỉnh lại cho thẳng hàng\r\n         */\r\n//        var offsetLeft = $(\".table-head-pos\").offset().left - 1;\r\n//        $(\".fixed-table\").css(\"left\", offsetLeft + \"px\");\r\n    }\r\n});$(document).on('click', 'a.delete_bill', function (e) {\r\n    var r = confirm(\"Bạn có chắc chắn muốn xóa dòng đối soát này không?\");\r\n    if (r == true) {\r\n        var del = $(this);\r\n        var bill_id = $(this).attr(\"bill_id\");\r\n        e.preventDefault();\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: $(\"#base_url\").val() + \"CODS/check_L8/delete_bill\",\r\n            data: {\r\n                bill_id: bill_id\r\n            },\r\n            success: data => {\r\n                console.log(data);\r\n                if (data === '1')\r\n                {\r\n                    del.parent().parent().parent().hide();\r\n                    //location.reload();\r\n                } else {\r\n                    alert(data);\r\n                }\r\n            },\r\n            error: errorThrown => alert(errorThrown)\r\n        });\r\n    }\r\n});\r\n$(document).on('click', 'a.edit_bill', function (e) {\r\n    e.preventDefault();\r\n    var bill_id = $(this).attr(\"bill_id\");\r\n    var url = $(\"#base_url\").val() + \"CODS/check_L8/show_edit_bill\";\r\n    $.ajax({\r\n        url: url,\r\n        type: \"POST\",\r\n        data: {\r\n            bill_id: bill_id\r\n        },\r\n        success: data => {\r\n            console.log(data);\r\n            $(\"div.replace_content_edit_bill_modal\").html(data);\r\n        },\r\n        complete: () => $(\".edit_bill_modal\").modal(\"show\")\r\n    });\r\n});\r\n$(\".btn-export-excel\").on('click', function (e) {\r\n    e.preventDefault();\r\n    $(\"#action_contact\").attr(\"action\", $(\"#base_url\").val() + \"cod/export_for_print\");\r\n    $(\"#action_contact\").submit();\r\n});\r\n$(\".btn-export-excel-for-viettel\").on('click',function (e) {\r\n    e.preventDefault();\r\n    $(\"#action_contact\").attr(\"action\", $(\"#base_url\").val() + \"cod/export_for_send_provider\");\r\n    $(\"#action_contact\").submit();\r\n});\r\n$('.export_to_string').on('click', function (e) {\r\n    e.preventDefault();\r\n    var myCheckboxes = new Array();\r\n    $(\"input:checked\").each(function () {\r\n        myCheckboxes.push($(this).val());\r\n    });\r\n    $.ajax({\r\n        url: $(\"#base_url\").val() + \"cod/export_to_string\",\r\n        type: \"POST\",\r\n        data: {\r\n            contact_id: myCheckboxes\r\n        },\r\n        success: function (data) {\r\n            console.log(data);\r\n            $(\".replace_content_2\").text(data);\r\n        },\r\n        complete: function () {\r\n            $(\".export_to_string_modal\").modal(\"show\");\r\n        }\r\n    });\r\n});$(document).on('click', '.select_provider', function (e) {\r\n    $(\"#action_contact\").removeClass(\"form-inline\");\r\n    e.preventDefault();\r\n    $(\".edit_multi_cod_contact\").modal(\"show\");\r\n});\r\n\r\n$(\".btn-modal_edit-multi-contact\").on('click', function (e) {\r\n    e.preventDefault();\r\n    var error = false;\r\n\r\n    if (!error) {\r\n        var url = $(\"#base_url\").val() + \"common/action_edit_multi_cod_contact\";\r\n        /*\r\n         * Lấy các contact chăm sóc để ẩn đi\r\n         */\r\n        var contactIdArray = [];\r\n        $('input[type=\"checkbox\"]').each(\r\n                function () {\r\n                    if ($(this).is(\":checked\")) {\r\n                        contactIdArray.push($(this).val());\r\n                    }\r\n                });\r\n        $.ajax({\r\n            url: url,\r\n            type: \"POST\",\r\n            dataType: 'json',\r\n            data: $(\"#action_contact\").serialize(),\r\n            success: function (data) {\r\n                if (data.success == 1) {\r\n                    $(\"#send_email_sound\")[0].play();\r\n                    $.notify(data.message, {\r\n                        position: \"top left\",\r\n                        className: 'success',\r\n                        showDuration: 200,\r\n                        autoHideDelay: 5000\r\n                    });\r\n                    $.each(contactIdArray, function(){\r\n                        $('tr[contact_id=\"'+this+'\"]').remove();\r\n                    });\r\n                    $(\".edit_multi_cod_contact\").modal(\"hide\");\r\n                } else {\r\n                    $(\"#send_email_error\")[0].play();\r\n                    $.notify('Có lỗi xảy ra! Nội dung: ' + data.message, {\r\n                        position: \"top left\",\r\n                        className: 'error',\r\n                        showDuration: 200,\r\n                        autoHideDelay: 7000\r\n                    });\r\n                }\r\n            },\r\n            complete: function () {\r\n\r\n            }\r\n        });\r\n        //$(\"#action_contact\").submit();\r\n    }\r\n});\r\n$(document).on('click', 'a.edit_contact', function (e) {\r\n    e.preventDefault();\r\n    $(\".checked\").removeClass(\"checked\");\r\n    $(this).parent().parent().addClass(\"checked\");\r\n    var contact_id = $(this).attr(\"contact_id\");\r\n    var url = $(\"#base_url\").val() + \"common/show_edit_contact_modal\";\r\n    $.ajax({\r\n        url: url,\r\n        type: \"POST\",\r\n        data: {\r\n            contact_id: contact_id\r\n        },\r\n        success: data => $(\"div.replace_content\").html(data),\r\n        complete: () =>  $(\".edit_contact_modal\").modal(\"show\")\r\n    });\r\n});\r\n\r\n$(document).on('click', '.btn-edit-contact', function (e) {\r\n    e.preventDefault();\r\n    if(check_edit_contact() == false) {\r\n        return false;\r\n    }\r\n    var url = $(this).parents('.form_edit_contact_modal').attr(\"action\");\r\n    var contact_id = $(this).parents('.form_edit_contact_modal').attr(\"contact_id\");\r\n    $.ajax({\r\n        url: url,\r\n        type: \"POST\",\r\n        dataType: 'json',\r\n        data: $(\".form_edit_contact_modal\").serialize(),\r\n        success: data => {\r\n            if (data.success == 1) {\r\n                $(\"#send_email_sound\")[0].play();\r\n                $.notify(data.message, {\r\n                    position: \"top left\",\r\n                    className: 'success',\r\n                    showDuration: 200,\r\n                    autoHideDelay: 5000\r\n                });\r\n                $(\".edit_contact_modal\").modal(\"hide\");\r\n                $('tr[contact_id=\"'+contact_id+'\"]').remove();\r\n            } else {\r\n                $(\"#send_email_error\")[0].play();\r\n                $.notify('Có lỗi xảy ra! Nội dung: ' + data.message, {\r\n                    position: \"top left\",\r\n                    className: 'error',\r\n                    showDuration: 200,\r\n                    autoHideDelay: 7000\r\n                });\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\n$(document).on('change', 'select.edit_payment_method_rgt', function (e) {\r\n    if ($(this).val() == 2) {\r\n        $(\".tbl_bank\").show(1000);\r\n    } else {\r\n        $(\".tbl_bank\").hide();\r\n    }\r\n    if ($(this).val() == 1) {\r\n        $(\".tbl_cod\").show(1000);\r\n    } else {\r\n        $(\".tbl_cod\").hide();\r\n    }\r\n    set_equal_table_height();\r\n});\r\n\r\n\r\nfunction set_equal_table_height() {\r\n    if ($(\".table-1\").height() > $(\".table-2\").height())\r\n    {\r\n        $(\".table-2\").height($(\".table-1\").height());\r\n    } else\r\n    {\r\n        $(\".table-1\").height($(\".table-2\").height());\r\n    }\r\n}\r\n\r\n$('.edit_contact_modal').on('shown.bs.modal', function () {\r\n    $('.datetimepicker').datetimepicker(\r\n            {\r\n                format: 'DD-MM-YYYY HH:mm'\r\n            });\r\n    if ($(\"select.edit_payment_method_rgt\").val() != 2) {\r\n        $(\".tbl_bank\").hide();\r\n    }\r\n    if ($(\"select.edit_payment_method_rgt\").val() != 1) {\r\n        $(\".tbl_cod\").hide();\r\n    }\r\n});$(function () {\r\n    setTimeout( () => {\r\n        if ($(\".filter-tbl-1\").height() > $(\".filter-tbl-2\").height())\r\n        {\r\n            $(\".filter-tbl-2\").height($(\".filter-tbl-1\").height());\r\n        } else\r\n        {\r\n            $(\".filter-tbl-1\").height($(\".filter-tbl-2\").height());\r\n        }\r\n    }, 300);\r\n});\r\n/* \n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n$(document).on('click', '.btn-send-account-lakita', function (e) {\n    e.preventDefault();\n    if ($(\"select.cod_status_id\").val() != 3) {\n        $(\"#send_email_error\")[0].play();\n        $.notify('Bạn cần chuyển trạng thái giao hàng là \"Đã thu Lakita\" trước khi thực hiện thao tác này!', {\n            position: \"top left\",\n            className: 'error',\n            showDuration: 200,\n            autoHideDelay: 7000\n        });\n        return false;\n    }\n    var contact_id = $(this).attr(\"contact_id\");\n    var url = $(\"#base_url\").val() + \"send_email/send_account_lakita\";\n    $.ajax({\n        url: url,\n        type: \"POST\",\n        data: {\n            contact_id: contact_id\n        },\n        dataType: 'json',\n        beforeSend: () => $(\".popup-wrapper\").show(),\n        success: data => {\n            console.log(data.success);\n            if (data.success == 0) {\n                $(\"#send_email_error\")[0].play();\n                $.notify('Có lỗi xảy ra! Nội dung: ' + data.message, {\n                    position: \"top left\",\n                    className: 'error',\n                    showDuration: 200,\n                    autoHideDelay: 7000\n                });\n            } else {\n                $(\"#send_email_sound\")[0].play();\n                $.notify('Gửi email thành công!', {\n                    position: \"top left\",\n                    className: 'success',\n                    showDuration: 200,\n                    autoHideDelay: 3000\n                });\n            }\n        },\n        complete: () => $(\".popup-wrapper\").hide(),\n        error: () => {\n            $(\"#send_email_error\")[0].play();\n            $.notify('Có lỗi xảy ra trong quá trình gửi email!', {\n                position: \"top left\",\n                className: 'error',\n                showDuration: 200,\n                autoHideDelay: 3000\n            });\n        }\n    });\n});\n\n/* \n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n$(document).on('click', '.btn-send-banking-info', function (e) {\n    e.preventDefault();\n    var contact_id = $(this).attr(\"contact_id\");\n    var url = $(\"#base_url\").val() + \"send_email/send_banking_info\";\n    $.ajax({\n        url: url,\n        type: \"POST\",\n        data: {\n            contact_id: contact_id,\n            name: $(\".edit-contact-name\").val(),\n            email: $(\".edit-contact-email\").val(),\n            price_purchase: $(\".edit-contact-price-purchase\").val()\n        },\n        dataType: 'json',\n        beforeSend: () => $(\".popup-wrapper\").show(),\n        success: data => {\n            if (data.success == 1) {\n                $(\"#send_email_sound\")[0].play();\n                $.notify('Gửi email thành công!', {\n                    position: \"top left\",\n                    className: 'success',\n                    showDuration: 200,\n                    autoHideDelay: 3000\n                });\n            } else {\n                $(\"#send_email_error\")[0].play();\n                $.notify('Có lỗi xảy ra. Nội dung: ' + data.message, {\n                    position: \"top left\",\n                    className: 'error',\n                    showDuration: 200,\n                    autoHideDelay: 3000\n                });\n            }\n        },\n        complete: () => $(\".popup-wrapper\").hide(),\n        error: () => {\n            $(\"#send_email_error\")[0].play();\n            $.notify('Có lỗi xảy ra trong quá trình gửi email!', {\n                position: \"top left\",\n                className: 'error',\n                showDuration: 200,\n                autoHideDelay: 3000\n            });\n        }\n    });\n});\n\n/* \r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n//\r\n//var nameArr = {\r\n//    id: {\r\n//        name: 'ID Contact',\r\n//        type: 'text'\r\n//    },\r\n//    name: {\r\n//        name: 'Họ và tên',\r\n//        type: 'text'\r\n//    },\r\n//    email: {\r\n//        name: 'Email',\r\n//        type: 'text'\r\n//    },\r\n//    price_purchase: {\r\n//        name: 'Giá tiền mua',\r\n//        type: 'currency'\r\n//    },\r\n//    call_status_id: {\r\n//        name: 'Trạng thái gọi',\r\n//        type: 'array'\r\n//    }\r\n//};\r\n//\r\n//$(document).on('click', 'a.action_view_detail_contact', function (e) {\r\n//    e.preventDefault();\r\n//    var url = $(\"#base_url\").val() + \"common/view_detail_contact\";\r\n//    var contact_id = $(this).attr(\"contact_id\");\r\n//    $.ajax({\r\n//        url: url,\r\n//        type: \"POST\",\r\n//        data: {\r\n//            contact_id: contact_id\r\n//        },\r\n//        dataType: \"json\",\r\n//        success: function (data) {\r\n//            var result = gen_result(data);\r\n//            $(\"div.replace_content_view_detail_contact\").html(result);\r\n//        },\r\n//        complete: function () {\r\n//            $(\".view_detail_contact_modal\").modal(\"show\");\r\n//        }\r\n//    });\r\n//});\r\n//\r\n//function gen_result(data) {\r\n//    var result = `<div class=\"row real-search-result-replace\">`;\r\n//    result += `<div class=\"col-md-6\">\r\n//                    <table class=\"table table-striped table-bordered table-hover table-view-1\">`;\r\n//    for (var prop in data.view_edit_left) {\r\n//        result += v_row(prop, data);\r\n//    }\r\n//    result += `</table></div>`;\r\n//    result += `</div>`;\r\n//    return result;\r\n//}\r\n//\r\n//function v_row(prop, data) {\r\n//    var result = ``;\r\n//    console.log(prop);\r\n//    console.log(nameArr[prop]);\r\n//    result = `<tr>\r\n//                      <td class=\"text-right\"> ` + nameArr[prop]['name'] + `</td>\r\n//                      <td>`;\r\n//    if (nameArr[prop]['type'] === 'text') {\r\n//        result += data['rows'][prop];\r\n//        result += ` <input type=\"text\" class=\"form-control datepicker date_recall\" name=\"date_recall\" />`;\r\n//    }\r\n//    if (nameArr[prop]['type'] === 'currency') {\r\n//        result += digits(data['rows'][prop]) + ' VNĐ';\r\n//    }\r\n//   \r\n//    result += `       </td>\r\n//              </tr>`;\r\n//\r\n//    return result;\r\n//}\r\n//\r\n//function v_call_status(call_status_id1, call_status_arr) {\r\n//    var result = ``;\r\n//    var name = '' + {call_status_id1} + '';\r\n//    $.each(call_status_arr, function () {\r\n//        if (call_status_id1 === this.id) {\r\n//            result = `<tr>\r\n//                        <td class=\"text-right\"> ` + nameArr.name + `</td>\r\n//                        <td> \r\n//                            ${this.name}\r\n//                        </td>\r\n//                      </tr>`;\r\n//        }\r\n//    });\r\n//    return result;\r\n//}\r\n//\r\n//function e_call_status(call_status_id, call_status_arr) {\r\n//    console.log(call_status_id);\r\n//    var result = `<tr>\r\n//    <td class=\"text-right\"> Trạng thái gọi </td>\r\n//    <td>  \r\n//        <select class=\"form-control call_status_id selectpicker\" name=\"call_status_id\">`;\r\n//    $.each(call_status_arr, function () {\r\n//        result += ` <option value=\"${this.id}\" ${ (this.id === call_status_id) ? 'selected' : '' }>\r\n//                ${ this.name}\r\n//                </option>`;\r\n//    });\r\n//    result += `</select></td></tr>`;\r\n//    return result;\r\n//}\r\n//\r\n//\r\n//function digits(number){ \r\n//    return number.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\") ; \r\n//};\r\n/* \r\n * Copyright (C) 2017 Phạm Ngọc Chuyển <chuyenpn at lakita.vn>\r\n *\r\n */\r\n\r\n$('.tbl_name').on('click', 'span.badge-star', function (e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    var contact_phone = $(this).attr(\"contact_phone\");\r\n    var contact_course_code = $(this).attr(\"contact_course_code\");\r\n    var controller = $(this).attr(\"controller\");\r\n    var url = $(\"#base_url\").val() + \"common/view_contact_star\";\r\n    //console.log(url);\r\n    $.ajax({\r\n        url: url,\r\n        type: \"POST\",\r\n        data: {\r\n            contact_phone: contact_phone,\r\n            contact_course_code: contact_course_code,\r\n            controller: controller\r\n        },\r\n        success: data => $(\"div.replace_content_view_contact_star\").html(data),\r\n        complete: () => $(\".view_contact_star_modal\").modal(\"show\")\r\n    });\r\n});\r\n\r\n$('.view_contact_star_modal').on('hide.bs.modal', () => $(\"div.replace_content_view_contact_star\").html(\"\"));$(document).on('click', 'a.action_view_detail_contact', function (e) {\r\n    e.preventDefault();\r\n    $(\".checked\").removeClass(\"checked\");\r\n    $(this).parent().parent().addClass(\"checked\");\r\n    var contact_id = $(this).attr(\"contact_id\");\r\n    var url = $(\"#base_url\").val() + \"common/view_detail_contact\";\r\n    //console.log(url);\r\n    $.ajax({\r\n        url: url,\r\n        type: \"POST\",\r\n        data: {\r\n            contact_id: contact_id\r\n        },\r\n        success: data => $(\"div.replace_content_view_detail_contact\").html(data),\r\n        complete: () => $(\".view_detail_contact_modal\").modal(\"show\")\r\n    });\r\n});\r\n$('.view_detail_contact_modal').on('shown.bs.modal',  () => {\r\n    if ($(\".table-view-1\").height() > $(\".table-view-2\").height())\r\n    {\r\n        $(\".table-view-2\").height($(\".table-view-1\").height());\r\n    } else\r\n    {\r\n        $(\".table-view-1\").height($(\".table-view-2\").height());\r\n    }\r\n});\r\n\r\n$(document).on(\"click\", \".view_contact_phone\", () => {\r\n    document.querySelector(\"#input-copy\").select();\r\n    document.execCommand('copy');\r\n    $.notify(\"Copy thành công vào clipboard\", {\r\n            position: \"top left\",\r\n            className: 'success',\r\n            showDuration: 200,\r\n            autoHideDelay: 2000\r\n        });\r\n});\r\n/* \r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n\r\n\r\n/*\r\n * Hiển thị menu chuột phải\r\n */\r\n$(document).on('contextmenu', 'tr.custom_right_menu', function (e) {\r\n                e.preventDefault();\r\n                /*\r\n                 * Lấy các thuộc tính của contact\r\n                 */\r\n                var contact_id = $(this).attr('contact_id');\r\n                var contact_name = $(this).attr('contact_name');\r\n                var duplicate_id = $(this).attr(\"duplicate_id\");\r\n                var contact_phone = $(this).attr(\"contact_phone\");\r\n                var controller = $(\"#input_controller\").val();\r\n                right_context_menu_display(controller, contact_id, contact_name, duplicate_id, contact_phone);\r\n\r\n                var menu = $(\".menu\");\r\n                menu.hide();\r\n                var pageX = e.pageX;\r\n                var pageY = e.pageY;\r\n                menu.css({top: pageY, left: pageX});\r\n                var mwidth = menu.width();\r\n                var mheight = menu.height();\r\n                var screenWidth = $(window).width();\r\n                var screenHeight = $(window).height();\r\n                var scrTop = $(window).scrollTop();\r\n                /*\r\n                 * Nếu \"tọa độ trái chuột\" + \"chiều dài menu\" > \"chiều dài trình duyệt\" \r\n                 * thì hiển thị sang bên phải tọa độ click\r\n                 */\r\n                if (pageX + mwidth > screenWidth) {\r\n                    menu.css({left: pageX - mwidth});\r\n                }\r\n                /*\r\n                 * Nếu \"tọa độ top chuột\" + \"chiều cao menu\" > \"chiều cao trình duyệt\" + \"chiều dài cuộn chuột\"\r\n                 * thì hiển thị lên trên tọa độ click\r\n                 */\r\n                if (pageY + mheight > screenHeight + scrTop) {\r\n                    menu.css({top: pageY - mheight});\r\n                }\r\n                menu.show();\r\n                /*\r\n                 * Nếu dòng đó đang không chọn (đã click trái) thì bỏ chọn và bỏ check những dòng đã chọn\r\n                 */\r\n                var is_checked_input = $(this).find('input[type=\"checkbox\"]');\r\n                if (!is_checked_input[0].checked) {\r\n                    $(\".checked\").removeClass(\"checked\");\r\n                    uncheck_checked();\r\n                } else {\r\n                    unselect_not_checked();\r\n                }\r\n                $(this).addClass('checked'); /*.find('[name=\"contact_id[]\"]').prop('checked', true); */\r\n            });\r\n\r\n//$(\"tr.custom_right_menu\").on(\r\n//        {\r\n//            contextmenu: function (e) {\r\n//                e.preventDefault();\r\n//                /*\r\n//                 * Lấy các thuộc tính của contact\r\n//                 */\r\n//                var contact_id = $(this).attr('contact_id');\r\n//                var contact_name = $(this).attr('contact_name');\r\n//                var duplicate_id = $(this).attr(\"duplicate_id\");\r\n//                var contact_phone = $(this).attr(\"contact_phone\");\r\n//                var controller = $(\"#input_controller\").val();\r\n//                right_context_menu_display(controller, contact_id, contact_name, duplicate_id, contact_phone);\r\n//\r\n//                var menu = $(\".menu\");\r\n//                menu.hide();\r\n//                var pageX = e.pageX;\r\n//                var pageY = e.pageY;\r\n//                menu.css({top: pageY, left: pageX});\r\n//                var mwidth = menu.width();\r\n//                var mheight = menu.height();\r\n//                var screenWidth = $(window).width();\r\n//                var screenHeight = $(window).height();\r\n//                var scrTop = $(window).scrollTop();\r\n//                /*\r\n//                 * Nếu \"tọa độ trái chuột\" + \"chiều dài menu\" > \"chiều dài trình duyệt\" \r\n//                 * thì hiển thị sang bên phải tọa độ click\r\n//                 */\r\n//                if (pageX + mwidth > screenWidth) {\r\n//                    menu.css({left: pageX - mwidth});\r\n//                }\r\n//                /*\r\n//                 * Nếu \"tọa độ top chuột\" + \"chiều cao menu\" > \"chiều cao trình duyệt\" + \"chiều dài cuộn chuột\"\r\n//                 * thì hiển thị lên trên tọa độ click\r\n//                 */\r\n//                if (pageY + mheight > screenHeight + scrTop) {\r\n//                    menu.css({top: pageY - mheight});\r\n//                }\r\n//                menu.show();\r\n//                /*\r\n//                 * Nếu dòng đó đang không chọn (đã click trái) thì bỏ chọn và bỏ check những dòng đã chọn\r\n//                 */\r\n//                var is_checked_input = $(this).find('input[type=\"checkbox\"]');\r\n//                if (!is_checked_input[0].checked) {\r\n//                    $(\".checked\").removeClass(\"checked\");\r\n//                    uncheck_checked();\r\n//                } else {\r\n//                    unselect_not_checked();\r\n//                }\r\n//                $(this).addClass('checked'); /*.find('[name=\"contact_id[]\"]').prop('checked', true); */\r\n//            },\r\n//            click: function () {\r\n//\r\n//            },\r\n//            dblclick: function (e) {\r\n//                var contact_id = $(this).attr('contact_id');\r\n//                $(\".edit_contact\").attr('contact_id', contact_id);\r\n//                e.preventDefault();\r\n//                $(\"a.edit_contact\").click();\r\n//            }\r\n//        });\r\n\r\n/*\r\n * High light vào các dòng khi click trái để chọn \r\n */\r\n$(document).on(\"click\", \"td.tbl_name, td.tbl_address\", function () {\r\n    if ($(this).parent().hasClass('checked')) {\r\n        $(this).parent().removeClass('checked');\r\n    } else {\r\n        $(this).parent().addClass('checked');\r\n    }\r\n    var input_checkbox = $(this).parent().find('[name=\"contact_id[]\"]');\r\n    if (input_checkbox.is(\":checked\")) {\r\n        input_checkbox.prop('checked', false);\r\n    } else {\r\n        input_checkbox.prop('checked', true);\r\n    }\r\n    unselect_not_checked();\r\n    show_number_selected_row();\r\n});\r\n\r\n\r\n\r\n$(\"html\").on(\"click\", function (e) {\r\n    $(\".menu\").hide();\r\n    $(\".menu-item\").hide();\r\n    /*\r\n     * Nếu click ra ngoài bảng thì bỏ chọn các contact\r\n     */\r\n    if (e.target.className.indexOf(\"form-inline\") !== -1 || e.target.className.indexOf(\"number_paging\") !== -1)\r\n    {\r\n        $(\"input[type='checkbox']\").prop('checked', false);\r\n        $('.checked').removeClass('checked');\r\n\r\n    }\r\n\r\n});\r\n\r\nshortcut.add(\"Ctrl+s\", function () {\r\n    $(\".btn-edit-contact\").click();\r\n});\r\nshortcut.add(\"Ctrl+a\", function () {\r\n    $(\"input[type='checkbox']\").prop('checked', true);\r\n    $('.custom_right_menu').addClass('checked');\r\n    show_number_selected_row();\r\n});\r\nshortcut.add(\"Esc\", function () {\r\n    $(\"input[type='checkbox']\").prop('checked', false);\r\n    $('.checked').removeClass('checked');\r\n    $(\".menu\").hide();\r\n});/* \r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n\r\n\r\n\r\n/*\r\n * Hiển thị menu chuột phải\r\n */\r\n$(\"tr.custom_right_menu_item\").on(\r\n        {\r\n            contextmenu: function (e) {\r\n                e.preventDefault();\r\n                /*\r\n                 * Lấy các thuộc tính của contact\r\n                 */\r\n                var item_id = $(this).attr('item_id');\r\n                $(\".delete_item, .edit_item\").attr('item_id', item_id);\r\n                var menu = $(\".menu-item\");\r\n                menu.hide();\r\n                var pageX = e.pageX;\r\n                var pageY = e.pageY;\r\n                menu.css({top: pageY, left: pageX});\r\n                var mwidth = menu.width();\r\n                var mheight = menu.height();\r\n                var screenWidth = $(window).width();\r\n                var screenHeight = $(window).height();\r\n                var scrTop = $(window).scrollTop();\r\n                /*\r\n                 * Nếu \"tọa độ trái chuột\" + \"chiều dài menu\" > \"chiều dài trình duyệt\" \r\n                 * thì hiển thị sang bên phải tọa độ click\r\n                 */\r\n                if (pageX + mwidth > screenWidth) {\r\n                    menu.css({left: pageX - mwidth});\r\n                }\r\n                /*\r\n                 * Nếu \"tọa độ top chuột\" + \"chiều cao menu\" > \"chiều cao trình duyệt\" + \"chiều dài cuộn chuột\"\r\n                 * thì hiển thị lên trên tọa độ click\r\n                 */\r\n                if (pageY + mheight > screenHeight + scrTop) {\r\n                    menu.css({top: pageY - mheight});\r\n                }\r\n                menu.show();\r\n                /*\r\n                 * Nếu dòng đó đang không chọn (đã click trái) thì bỏ chọn và bỏ check những dòng đã chọn\r\n                 */\r\n                var is_checked_input = $(this).find('input[type=\"checkbox\"]');\r\n                if (!is_checked_input[0].checked) {\r\n                    $(\".checked\").removeClass(\"checked\");\r\n                    uncheck_checked();\r\n                } else {\r\n                    unselect_not_checked();\r\n                }\r\n                $(this).addClass('checked'); /*.find('[name=\"contact_id[]\"]').prop('checked', true); */\r\n            },\r\n            click: function () {\r\n                if ($(this).hasClass('checked')) {\r\n                    $(this).removeClass('checked');\r\n                } else {\r\n                    $(this).addClass('checked');\r\n                }\r\n                var input_checkbox = $(this).find('[name=\"item_id[]\"]');\r\n                if (input_checkbox.is(\":checked\")) {\r\n                    input_checkbox.prop('checked', false);\r\n                } else {\r\n                    input_checkbox.prop('checked', true);\r\n                }\r\n                unselect_not_checked();\r\n                show_number_selected_row();\r\n            }\r\n        });\r\n\r\n\r\n\r\n/* \r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n\r\n\r\n/*\r\n * Khi check vào 1 item nào đó sẽ đánh dấu item đó (hiện màu xanh)\r\n */\r\n$(document).on('change', 'input[type=\"checkbox\"]', function () {\r\n    if (this.checked) {\r\n        $(this).parent().parent().addClass('checked');\r\n    } else {\r\n        $(this).parent().parent().removeClass('checked');\r\n    }\r\n    /*\r\n     * Hiển thị số lượng dòng đã check\r\n     */\r\n    var numberOfChecked = $('input:checkbox:checked').length;\r\n    var totalCheckboxes = $('input:checkbox').length;\r\n    $.notify('Đã chọn: ' + numberOfChecked + '/' + totalCheckboxes, {\r\n        position: \"top left\",\r\n        className: 'success',\r\n        showDuration: 200,\r\n        autoHideDelay: 1000\r\n    });\r\n});\r\n\r\n/*=============================chọn tất cả  ===========================================*/\r\nvar checked = true;\r\n$(\".check_all\").on('click', function () {\r\n    checked = !checked;\r\n    if (checked) {\r\n        $(\".list_contact input[type='checkbox']\").each(\r\n                function () {\r\n                    $(this).prop(\"checked\", false);\r\n                    $(this).parent().parent().removeClass('checked');\r\n                }\r\n        );\r\n    } else {\r\n        $(\".list_contact input[type='checkbox']\").each(\r\n                function () {\r\n                    $(this).prop(\"checked\", true);\r\n                    $(this).parent().parent().addClass('checked');\r\n                }\r\n        );\r\n        var numberOfChecked = $('input:checkbox:checked').length;\r\n        /*\r\n         * Lấy tổng giá\r\n         */\r\n        var sum = 0;\r\n        for (i = 0; i < numberOfChecked; i++) {\r\n            sum += parseInt($($('input:checkbox:checked')[i]).parent().parent().find('.tbl_price_purchase').text());\r\n        }\r\n        $.notify('Đã chọn: ' + numberOfChecked + '/' + numberOfChecked + ' . Tổng tiền = ' + sum.toLocaleString(), {\r\n            position: \"top left\",\r\n            className: 'success',\r\n            showDuration: 200,\r\n            autoHideDelay: 10000\r\n        });\r\n    }\r\n});\r\n/* \r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n\r\n\r\n/*\r\n * Hiển thị tên khóa học khi click vào mã khóa học\r\n */\r\n$(document).on('click', '.find-course-code', function () {\r\n    var _this = $(this);\r\n    $.ajax({\r\n        url: $(\"#base_url\").val() + \"common/find_course_name\",\r\n        type: 'POST',\r\n        data: {course_code: $(this).text().trim()},\r\n        success: data => {\r\n            if (_this.parent().attr('class') === 'view_course_code') {\r\n                _this.notify(data, {\r\n                    position: \"top left\",\r\n                    className: 'success',\r\n                    showDuration: 200,\r\n                    autoHideDelay: 4000\r\n                });\r\n            } else {\r\n                _this.notify(data, {\r\n                    position: \"top center\",\r\n                    className: 'success',\r\n                    showDuration: 200,\r\n                    autoHideDelay: 4000\r\n                });\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\n$(\".datepicker\").datepicker(\r\n        {\r\n            dateFormat: \"dd-mm-yy\"\r\n        }\r\n);\r\n\r\n/*\r\n * \r\n * Tham khảo http://www.daterangepicker.com/#usage\r\n */\r\nvar d = new Date();\r\nvar currDate = d.getDate() + '-' + (d.getMonth() + 1) + '-' + d.getFullYear();\r\nvar pastDate = d.getDate() + '-' + d.getMonth() + '-' + d.getFullYear();\r\n$(\".daterangepicker\").daterangepicker({\r\n    \"autoApply\": true,\r\n    autoUpdateInput: false,\r\n    locale: {\r\n        format: 'DD/MM/YYYY',\r\n        cancelLabel: 'Clear'\r\n    },\r\n    ranges: {\r\n        'Hôm nay': [moment(), moment()],\r\n        'Hôm qua': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],\r\n        '7 ngày vừa qua': [moment().subtract(6, 'days'), moment()],\r\n        '30 ngày vừa qua': [moment().subtract(29, 'days'), moment()],\r\n        'Tuần này': [moment().startOf('isoWeek'), moment().endOf('isoWeek')],\r\n        'Tuần trước': [moment().subtract(1, 'weeks').startOf('isoWeek'), moment().subtract(1, 'weeks').endOf('isoWeek')],\r\n        'Tháng này': [moment().startOf('month'), moment().endOf('month')],\r\n        'Tháng trước': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]\r\n    },\r\n    \"alwaysShowCalendars\": true,\r\n    \"startDate\": pastDate,\r\n    \"endDate\": currDate\r\n}).on({\r\n    'apply.daterangepicker': function (ev, picker) {\r\n        $(this).val(picker.startDate.format('DD/MM/YYYY') + ' - ' + picker.endDate.format('DD/MM/YYYY'));\r\n    },\r\n    'cancel.daterangepicker': function (ev, picker) {\r\n        $(this).val('');\r\n    }\r\n});\r\n\r\n/*======================= reset datepicker ========================================================*/\r\n$(\".reset_datepicker\").click(function (e) {\r\n    e.preventDefault();\r\n    $(\"#datepicker\").val(\"\");\r\n});$(function () {\r\n    var clipboard = new Clipboard('.btn-copy');\r\n    clipboard.on('success', function () {\r\n        $.notify(\"Copy thành công vào clipboard\", {\r\n            position: \"top left\",\r\n            className: 'success',\r\n            showDuration: 200,\r\n            autoHideDelay: 2000\r\n        });\r\n    });\r\n});Dropzone.options.dropzoneFileUpload = {\r\n    dictDefaultMessage: \"Thả file vào đây hoặc click vào đây để upload\",\r\n    acceptedFiles: \".xls, .xlsx\",\r\n    maxFilesize: 10,\r\n    init: function () {\r\n        this.on(\"addedfile\",\r\n                function () {\r\n                    $(\".popup-wrapper\").show();\r\n                }).on(\"success\", function () {\r\n            //console.log(e);\r\n            location.href = $(\"#redirect-dropzone\").val();\r\n        }).on(\"error\", function () {\r\n            $(\".popup-wrapper\").hide();\r\n        });\r\n    }\r\n};$(document).ready(function () {\r\n    $(\"input.filter_contact\").click(function (e) {\r\n        e.preventDefault();\r\n        $(\"#action_contact\").attr(\"action\", \"#\").attr(\"method\", \"GET\");\r\n        $(\"#action_contact\").submit();\r\n    });\r\n    $(\"input.reset_form\").click(function (e) {\r\n        e.preventDefault();\r\n        $('option[value=0]').attr('selected', 'selected');\r\n        $('option[value=\"empty\"]').attr('selected', 'selected');\r\n        $(\".datepicker\").val('');\r\n        $(\"input[type='text']\").val('');\r\n       // $(\"#action_contact option:selected\").prop(\"selected\", false);\r\n        $('.selectpicker').selectpicker('deselectAll');\r\n    });\r\n    $('select.filter').on('change', function (e) {\r\n        e.preventDefault();\r\n        $(\"#action_contact\").attr(\"action\", \"#\").attr(\"method\", \"GET\");\r\n        $(\"#action_contact\").submit();\r\n    });\r\n\r\n    /*========================= SORT =================================*/\r\n    $('th[class^=\"order_\"]').click(function () {\r\n        var myclass = $(this).attr(\"class\");\r\n        myclass = myclass.split(/ /);\r\n        myclass = myclass[0];\r\n        $('input[class^=\"order_\"]').not(\"input.\" + myclass).attr('value', '0');\r\n        if ($(\"input.\" + myclass).val() === '0')\r\n        {\r\n            $(\"input.\" + myclass).attr('value', 'ASC').promise().done(\r\n                    function () {\r\n                        $(\"#action_contact\").attr(\"action\", \"#\").attr(\"method\", \"GET\");\r\n                        $(\"#action_contact\").submit();\r\n                    }\r\n            );\r\n            return;\r\n        }\r\n        if ($(\"input.\" + myclass).val() === 'ASC')\r\n        {\r\n            $(\"input.\" + myclass).val('DESC').promise().done(\r\n                    function () {\r\n                        $(\"#action_contact\").attr(\"action\", \"#\").attr(\"method\", \"GET\");\r\n                        $(\"#action_contact\").submit();\r\n                    }\r\n            );\r\n            return;\r\n        }\r\n        if ($(\"input.\" + myclass).val() === 'DESC')\r\n        {\r\n            $(\"input.\" + myclass).val('0').promise().done(\r\n                    function () {\r\n                        $(\"#action_contact\").attr(\"action\", \"#\").attr(\"method\", \"GET\");\r\n                        $(\"#action_contact\").submit();\r\n                    }\r\n            );\r\n            return;\r\n        }\r\n\r\n    });\r\n});\r\n/* $(function () {\r\n//    $(\".real-search\").on(\r\n//            {'input': function () {\r\n//                    var type = $(this).attr('type_search');\r\n//                    $.ajax({\r\n//                        url: $(\"#base_url\").val() + \"common/real_search\",\r\n//                        type: \"POST\",\r\n//                        beforeSend: function () {\r\n//                            $(\".popup-wrapper\").show();\r\n//                        },\r\n//                        data: {\r\n//                            type: type,\r\n//                            value: $(this).val()\r\n//                        },\r\n//                        success: function (data) {\r\n//                            //console.log(data);\r\n//                            $(\".remove_content\").html(\"\");\r\n//                            $(\".real-search-replacement\").html(data);\r\n//                        }, complete: function () {\r\n//                            $(\".popup-wrapper\").hide();\r\n//                            $('.modal').on('shown.bs.modal', function () {\r\n//                                $('.selectpicker').selectpicker({});\r\n//                            });\r\n//                        }\r\n//                    });\r\n//                }\r\n//            }\r\n//    );\r\n//});\r\n\r\n*/$(function () {\r\n\r\n    /*\r\n     * Sửa lại link phân trang nếu có các thao tác lọc, tìm kiếm, sắp xếp\r\n     */\r\n//    if (location.search !== \"\") {\r\n//        $(\".pagination a\").each(\r\n//                function () {\r\n//                    var curr_href = $(this).attr(\"href\");\r\n//                    $(this).attr('href', curr_href + location.search);\r\n//                });\r\n//    }\r\n\r\n    /*\r\n     * Hiển thị datepicker và selectpicker khi modal edit item đc bật lên\r\n     */\r\n    $('.modal').on('shown.bs.modal', function () {\r\n        $('.selectpicker').selectpicker({});\r\n        $(\".datepicker\").datepicker({dateFormat: \"dd-mm-yy\"});\r\n        $(\".reset_datepicker\").click(function (e) {\r\n            e.preventDefault();\r\n            $(\".datepicker\").val(\"\");\r\n            $(\".datetimepicker\").val('');\r\n        });\r\n        if ($(\".table-1\").height() > $(\".table-2\").height())\r\n        {\r\n            $(\".table-2\").height($(\".table-1\").height());\r\n        } else\r\n        {\r\n            $(\".table-1\").height($(\".table-2\").height());\r\n        }\r\n    });\r\n\r\n\r\n    /*===================================== trờ về trang trước ========================================*/\r\n//    $(\"input[name='back_location']\").val(document.referrer);\r\n//    $(\".back_location\").click(function () {\r\n//        location.href = document.referrer;\r\n//    });\r\n   \r\n\r\n\r\n    /*\r\n     * Thêm hiệu ứng khi hover vào dropdown bootstrap \r\n     */\r\n    $('.dropdown-hover').hover(function () {\r\n        $(this).find('.dropdown-menu').stop(true, true).fadeIn(200);\r\n        $(this).find('.child_menu').stop(true, true).fadeIn(200);\r\n    }, function () {\r\n        $(this).find('.dropdown-menu').stop(true, true).fadeOut(200);\r\n        $(this).find('.child_menu').stop(true, true).fadeOut(200);\r\n    });\r\n\r\n    /*\r\n     * Sửa lại value của thẻ input curr_url\r\n     */\r\n    $(\"#curr_url\").val(location.href);\r\n\r\n//    var hide = 1;\r\n//    $(document).on('mousemove', function (e) {\r\n//\r\n//        if (e.pageX < 0.5) {\r\n//            $(\"body\").removeClass(\"nav-sm\");\r\n//            $(\"body\").addClass(\"nav-md\");\r\n//            hide = 0;\r\n//        }\r\n//\r\n//        if (e.pageX > 500 && hide == 0) {\r\n//            $(\"body\").removeClass(\"nav-md\");\r\n//            $(\"body\").addClass(\"nav-sm\");\r\n//            hide = 1;\r\n//        }\r\n//    });\r\n\r\n});\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n\r\n$(\".send_to_mobile\").on('click', function (e) {\r\n    e.preventDefault();\r\n    var contact_phone = $(this).attr(\"contact_phone\");\r\n    var contact_name = $(this).attr(\"contact_name\");\r\n    $.ajax({\r\n        url: $(\"#base_url\").val() + 'common/send_phone_to_mobile',\r\n        type: 'post',\r\n        data: {\r\n            contact_phone: contact_phone,\r\n            contact_name: contact_name\r\n        },\r\n        success:  () =>  {\r\n            $.notify('Gửi thành công đến mobile!', {\r\n                position: \"top left\",\r\n                className: 'success',\r\n                showDuration: 200,\r\n                autoHideDelay: 3000\r\n            });\r\n        }\r\n    });\r\n});\r\n/*\r\n * Copyright (C) 2017 Phạm Ngọc Chuyển <chuyenpn at lakita.vn>\r\n *\r\n */\r\nvar notify = '';\r\nNotification.requestPermission(function (p) {});\r\nsetInterval(function () {\r\n    $.ajax({\r\n        url: $(\"#base_url\").val() + \"common/listen\",\r\n        success: data2 => {\r\n            //console.log(data2);\r\n            if (data2 === '1') {\r\n                $(\"#notificate\")[0].play();\r\n                notify = new Notification(\r\n                        'Có một contact mới đăng ký',\r\n                        {\r\n                            body: 'Click vào đây để xem ngay!',\r\n                            icon: $(\"#base_url\").val() + 'public/images/logo2.png',\r\n                            tag: 'http://crm2.lakita.vn/quan-ly/trang-chu.html',\r\n                            sound: $(\"#base_url\").val() + 'public/mp3/new-contact.mp3',\r\n                            image: $(\"#base_url\").val() + 'public/images/contact-us.jpg'\r\n                        }\r\n                );\r\n                notify.onclick = function (event) {\r\n                    event.preventDefault();\r\n                    window.open('http://crm2.lakita.vn/quan-ly/trang-chu.html', '_blank');\r\n                };\r\n                if (($(\"#input_controller\").val() === 'manager' && $(\"#input_method\").val() === 'index')\r\n                        || $(\"#input_controller\").val() === 'marketing' && $(\"#input_method\").val() === 'index') {\r\n                    setTimeout(function () {\r\n                        location.reload();\r\n                    }, 4000);\r\n                }\r\n            }\r\n        }\r\n    });\r\n}, 3000);/* \n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n/*\n $(document).on({\n mousemove: function () {\n if ($('div.mega-dropdown-menu').is(\":visible\")) {\n $(\".black-over\").css('bottom', '0%');\n console.log(1);\n } else {\n $(\".black-over\").css('bottom', '100%');\n }\n },\n click: function () {\n if ($('div.mega-dropdown-menu').is(\":visible\")) {\n $(\".black-over\").css('bottom', '0%');\n console.log(1);\n } else {\n $(\".black-over\").css('bottom', '100%');\n }\n }\n }, 'body');\n */\n\n$('li.mega-dropdown').mouseover(() => $(\".black-over\").css('bottom', '0%')).mouseout(() => $(\".black-over\").css('bottom', '100%'));\n\n/*\n setInterval(function(){\n if ($('div.mega-dropdown-menu').is(\":visible\")) {\n $(\".black-over\").css('bottom', '0%');\n } else {\n $(\".black-over\").css('bottom', '100%');\n }\n },100);\n *//* \n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n\n$('.modal').on('hide.bs.modal', function () {\n    if ($(this).find(\".modal-dialog\").attr('class').search('btn-very-lg') != -1) {\n        $(this).find(\".modal-dialog\").attr('class', 'modal-dialog fadeOut animated btn-very-lg');\n    } else if ($(this).find(\".modal-dialog\").attr('class').search('btn-lg') != -1) {\n        $(this).find(\".modal-dialog\").attr('class', 'modal-dialog fadeOut animated btn-lg');\n    } else {\n        $(this).find(\".modal-dialog\").attr('class', 'modal-dialog fadeOut animated');\n    }\n});\n$('.modal').on('show.bs.modal', function () {\n    if ($(this).find(\".modal-dialog\").attr('class').search('btn-very-lg') != -1) {\n        $(this).find(\".modal-dialog\").attr('class', 'modal-dialog fadeIn animated btn-very-lg');\n    } else if ($(this).find(\".modal-dialog\").attr('class').search('btn-lg') != -1) {\n        $(this).find(\".modal-dialog\").attr('class', 'modal-dialog fadeIn animated btn-lg');\n    } else {\n        $(this).find(\".modal-dialog\").attr('class', 'modal-dialog fadeIn animated');\n    }\n});\n$(\"a.cancel_one_contact\").on('click', function (e) {\r\n    var del = $(this);\r\n    var sale_id = $(this).attr(\"sale_id\");\r\n    var total_contact_for_sale = $(\".total_contact_sale_\" + sale_id).text();\r\n    e.preventDefault();\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: $(\"#base_url\").val() + \"manager/cancel_one_contact\",\r\n        data: {\r\n            contact_id: $(this).attr(\"contact_id\")\r\n        },\r\n        beforeSend: function () {\r\n            //$(\".popup-wrapper\").show();\r\n        },\r\n        success: function (data) {\r\n            if (data === '1')\r\n            {\r\n                del.parent().parent().hide();\r\n                $(\".total_contact_sale_\" + sale_id).text(total_contact_for_sale - 1);\r\n            } else {\r\n                alert(data);\r\n            }\r\n        },\r\n        error: function (errorThrown) {\r\n            alert(errorThrown);\r\n        },\r\n        complete: function () {\r\n            //    $(\".popup-wrapper\").hide();\r\n        }\r\n    });\r\n});\r\n$(\".cancel_multi_contact\").on('click', function (e) {\r\n    $(\"#action_contact\").attr(\"action\", $(\"#base_url\").val() + \"manager/cancel_multi_contact\");\r\n    $(\"#action_contact\").submit();\r\n});$(\"#delete_contact\").on('click', function (e) {\r\n    e.preventDefault();\r\n    var r = confirm(\"Are you sure?\");\r\n    if (r === true) {\r\n        $(\"#action_contact\").attr(\"action\", $(\"#base_url\").val() + \"manager/delete_contact\");\r\n        $(\"#action_contact\").submit();\r\n    }\r\n});\r\n\r\n    $(document).on('click', 'a.delete_one_contact', function (e) {\r\n        var del = $(this);\r\n        var contact_id = $(this).attr(\"contact_id\");\r\n        e.preventDefault();\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: $(\"#base_url\").val() + \"manager/delete_one_contact\",\r\n            data: {\r\n                contact_id: contact_id\r\n            },\r\n            success: function (data) {\r\n                if (data === '1')\r\n                {\r\n                    //del.parent().parent().hide();\r\n                    $(\".duplicate_\" + contact_id).hide();\r\n                    //location.reload();\r\n                } else {\r\n                    alert(data);\r\n                }\r\n            },\r\n            error: function () {\r\n                alert(errorThrown);\r\n            }\r\n        });\r\n    });\r\n\r\n/*=================================== chia contact đã chọn (form modal)================================================*/\r\n$(\"a.divide_contact\").on('click', function (e) {\r\n    e.preventDefault();\r\n    $(\"#action_contact\").removeClass(\"form-inline\");\r\n    $(\".divide_multi_contact_modal\").modal(\"show\");\r\n});\r\n\r\n/*=================================== chia từng contact một (form modal)================================================*/\r\n$(document).on('click', '.divide_one_contact_achor', function (e) {\r\n    e.preventDefault();\r\n    $(\"#action_contact\").removeClass(\"form-inline\");\r\n    var contact_id = $(this).attr(\"contact_id\");\r\n    $(\".checked\").removeClass(\"checked\");\r\n    $(this).parent().parent().addClass(\"checked\");\r\n    $(\"#contact_id_input\").val(contact_id);\r\n    var contact_name = $(this).attr(\"contact_name\");\r\n    $(\"span.contact_name\").text(contact_name);\r\n    $(\".divide_one_contact_modal\").modal(\"show\");\r\n});\r\n\r\n/*=================================== chia đều contact đã chọn ================================================*/\r\n$(\".divide_contact_even\").on('click', function (e) {\r\n    e.preventDefault();\r\n    $(\"#action_contact\").attr(\"action\", $(\"#base_url\").val() + \"manager/divide_contact_even\");\r\n    $(\"#action_contact\").submit();\r\n});\r\n\r\n/*===================================== phân contact bằng ajax ==============*/\r\n\r\n$(document).on('click', '.btn-divide-one-contact', function (e) {\r\n    e.preventDefault();\r\n    var url = $(this).parents('#transfer_one_contact').attr(\"action\");\r\n    var contact_id = $(\"#contact_id_input\").val();\r\n    $.ajax({\r\n        url: url,\r\n        type: \"POST\",\r\n        dataType: 'json',\r\n        data: $('#transfer_one_contact').serialize(),\r\n        success: data => {\r\n            if (data.success == 1) {\r\n                $(\"#send_email_sound\")[0].play();\r\n                $.notify(data.message, {\r\n                    position: \"top left\",\r\n                    className: 'success',\r\n                    showDuration: 200,\r\n                    autoHideDelay: 5000\r\n                });\r\n                $(\".divide_one_contact_modal\").modal(\"hide\");\r\n                $('tr[contact_id=\"' + contact_id + '\"]').remove();\r\n            } else {\r\n                $(\"#send_email_error\")[0].play();\r\n                $.notify('Có lỗi xảy ra! Nội dung: ' + data.message, {\r\n                    position: \"top left\",\r\n                    className: 'error',\r\n                    showDuration: 200,\r\n                    autoHideDelay: 7000\r\n                });\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\n\r\n$(document).on('click', '.btn-divide-multi-contact', function (e) {\r\n    e.preventDefault();\r\n    var url = $('#base_url').val() + \"manager/divide_contact\";\r\n    /*\r\n     * Lấy các contact chăm sóc để ẩn đi\r\n     */\r\n    var contactIdArray = [];\r\n    $('input[type=\"checkbox\"]').each(\r\n            function () {\r\n                if ($(this).is(\":checked\")) {\r\n                    contactIdArray.push($(this).val());\r\n                }\r\n            });\r\n    $.ajax({\r\n        url: url,\r\n        type: \"POST\",\r\n        dataType: 'json',\r\n        data: $('#action_contact').serialize(),\r\n        success: data => {\r\n            if (data.success == 1) {\r\n                $(\"#send_email_sound\")[0].play();\r\n                $.notify(data.message, {\r\n                    position: \"top left\",\r\n                    className: 'success',\r\n                    showDuration: 200,\r\n                    autoHideDelay: 5000\r\n                });\r\n                $(\".divide_multi_contact_modal\").modal(\"hide\");\r\n                $.each(contactIdArray, function () {\r\n                    $('tr[contact_id=\"' + this + '\"]').remove();\r\n                });\r\n            } else {\r\n                $(\"#send_email_error\")[0].play();\r\n                $.notify('Có lỗi xảy ra! Nội dung: ' + data.message, {\r\n                    position: \"top left\",\r\n                    className: 'error',\r\n                    showDuration: 200,\r\n                    autoHideDelay: 7000\r\n                });\r\n            }\r\n        }\r\n    });\r\n});/*\r\n$(\"a.view_duplicate\").on('click', function (e) {\r\n    e.preventDefault();\r\n   // alert(1);\r\n    var duplicate_id = $(this).attr(\"duplicate_id\");\r\n   // console.log(url);\r\n    $.ajax({\r\n        url: $(\"#base_url\").val() + \"manager/view_duplicate\",\r\n        type: \"POST\",\r\n        data: {\r\n            duplicate_id: duplicate_id\r\n        },\r\n        success: function (data) {\r\n            // console.log(data);\r\n            $(\"div.view_duplicate\").html(\"\").html(data);\r\n        },\r\n        complete: function () {\r\n            $(\".view_duplicate_modal\").modal(\"show\");\r\n        }\r\n    });\r\n});\r\n\r\n*/$(document).on('scroll', function () {\r\n    if ($(\".table-head-pos\").length) {\r\n        if ($(\"body\").scrollTop() > ($(\".table-head-pos\").offset().top)\r\n                ) {\r\n            $(\".fixed-table\").css({\r\n                \"display\": \"block\"\r\n            });\r\n        } else {\r\n            $(\".fixed-table\").css({\r\n                \"display\": \"none\"\r\n            });\r\n        }\r\n        $('[class^=\"staff_\"]').each(function () {\r\n            var myClass = $(this).attr(\"class\");\r\n            var mywidth = $(this).width();\r\n            var myheight = $(this).height();\r\n            $(\".f_\" + myClass).width(mywidth);\r\n            $(\".f_\" + myClass).height(myheight);\r\n        });\r\n        var offsetLeft = $(\".table-head-pos\").offset().left + 2;\r\n        $(\"table thead.fixed-table\").css(\"left\", offsetLeft + \"px\");\r\n    }\r\n});\r\n\r\n$(\"input.reset_form\").on('click', function (e) {\r\n    e.preventDefault();\r\n    $('option[value=0]').attr('selected', 'selected');\r\n    $('option[value=\"empty\"]').attr('selected', 'selected');\r\n    $(\".datepicker\").val('');\r\n    $(\"input[type='text']\").val('');\r\n    // $(\"#action_contact option:selected\").prop(\"selected\", false);\r\n    $('.selectpicker').selectpicker('deselectAll');\r\n});\r\n\r\n\r\n\r\n$(document).on('click', '.btn-edit-contact', function (e) {\r\n    if ($(\"#input_controller\").val() === 'sale') {\r\n//        e.preventDefault();\r\n//        var error = false;\r\n//        var call_status_id = $(\"select[name='call_status_id']\").val();\r\n//       // console.log('call_status_id= ' + call_status_id);\r\n//        var ordering_status_id = $(\"select[name='ordering_status_id']\").val();\r\n//       // console.log('ordering_status_id= ' + ordering_status_id);\r\n//        var date_recall = $(\".date_recall\").val();\r\n//        var course_code = $('select.select_course_code').val();\r\n//        var price_purchase = $('[name=\"price_purchase\"]').val();\r\n//        if ($(\"select.edit_payment_method_rgt\").val() == 0) {\r\n//            alert(\"Bạn cần cập nhật hình thức thanh toán!\");\r\n//            error = true;\r\n//            return false;\r\n//        }\r\n//        if (call_status_id == 0) {\r\n//            alert(\"Bạn cần cập nhật trạng thái gọi!\");\r\n//            error = true;\r\n//            return false;\r\n//        }\r\n//        if (check_rule_call_stt(call_status_id, ordering_status_id) == false) {\r\n//            alert(\"Trạng thái gọi và trạng thái đơn hàng không logic!\");\r\n//            error = true;\r\n//            return false;\r\n//        }\r\n//        if (date_recall != '') {\r\n//            if (now_greater_than_input_date(date_recall)) {\r\n//                alert(\"Ngày gọi lại không thể là một ngày trước ngày hôm nay!\");\r\n//                error = true;\r\n//                return false;\r\n//            }\r\n//            if (check_rule_call_stt_and_date_recall(call_status_id, ordering_status_id, date_recall)) {\r\n//                alert(\"Nếu contact không liên lạc được hoặc không thể chăm sóc được nữa thì không thể có ngày gọi lại lớn hơn ngày hiện tại!\");\r\n//                error = true;\r\n//                return false;\r\n//            }\r\n//        }\r\n//        if (course_code == '0') {\r\n//            alert(\"Vui lòng chọn mã khóa học!\");\r\n//            error = true;\r\n//            return false;\r\n//        }\r\n//        if (price_purchase == '') {\r\n//            alert(\"Vui lòng chọn giá tiền mua!\");\r\n//            error = true;\r\n//            return false;\r\n//        }\r\n//        if (!error) {\r\n//            $(\".form_submit\").submit();\r\n//        }\r\n    }\r\n});\r\n\r\n$(document).on('change', 'select.select_script', function () {\r\n    //console.log($(this));\r\n    var url = $(\"#base_url\").val() + \"sale/show_script_modal\";\r\n    if ($(this).val() != 0) {\r\n        $.ajax({\r\n            url: url,\r\n            type: \"POST\",\r\n            data: {\r\n                script_id: $(this).val()\r\n            },\r\n            success: data => $(\"div.replace_content_script\").html(data),\r\n            complete: () =>$(\".script_modal\").modal(\"show\")\r\n        });\r\n    }\r\n});\r\n$(document).on('click', 'a.transfer_contact, a.transfer_one_contact', function (e) {\r\n    e.preventDefault();\r\n    var action = $(this).attr(\"class\").split(\" \");\r\n    if (action[0] == \"transfer_contact\") {\r\n        $(\"#action_contact\").removeClass(\"form-inline\");\r\n        $(\".transfer_multi_contact_modal\").modal(\"show\");\r\n    } else {\r\n        $(\".checked\").removeClass(\"checked\");\r\n        $(this).parent().parent().addClass(\"checked\");\r\n        var contact_id = $(this).attr(\"contact_id\");\r\n        var contact_name = $(this).attr(\"contact_name\");\r\n        $(\"#contact_id_input\").val(contact_id);\r\n        $(\".contact_name_replacement\").text(contact_name);\r\n        $(\".transfer_one_contact_modal\").modal(\"show\");\r\n    }\r\n});\r\n$(document).on('change', '[name=\"add_channel_id\"], [name=\"edit_channel_id\"]', function () {\r\n    var channel_id = $(this).val();\r\n    $.ajax({\r\n        url: $('#base_url').val() + 'MANAGERS/link/get_campaign',\r\n        type: \"POST\",\r\n        data: {\r\n            channel_id: channel_id\r\n        },\r\n        success: function (data) {\r\n            $(\".ajax_campaign\").html(data);\r\n            $(\".ajax_adset\").html('');\r\n            $(\".ajax_ad\").html('');\r\n        },\r\n        complete: function () {\r\n            $('.selectpicker').selectpicker({});\r\n        }\r\n    });\r\n});\r\n$(document).on('change', '[name=\"add_campaign_id\"]', function () {\r\n    var campagin_id = $(this).val();\r\n    $.ajax({\r\n        url: $('#base_url').val() + 'MANAGERS/link/get_adset',\r\n        type: \"POST\",\r\n        data: {\r\n            campagin_id: campagin_id\r\n        },\r\n        success: function (data) {\r\n            $(\".ajax_adset\").html(data);\r\n            $(\".ajax_ad\").html('');\r\n        },\r\n        complete: function () {\r\n            $('.selectpicker').selectpicker({});\r\n        }\r\n    });\r\n});\r\n\r\n$(document).on('change', '[name=\"add_adset_id\"]', function () {\r\n    var adset_id = $(this).val();\r\n    $.ajax({\r\n        url: $('#base_url').val() + 'MANAGERS/link/get_ad',\r\n        type: \"POST\",\r\n        data: {\r\n            adset_id: adset_id\r\n        },\r\n        success: function (data) {\r\n            $(\".ajax_ad\").html(data);\r\n        },\r\n        complete: function () {\r\n            $('.selectpicker').selectpicker({});\r\n        }\r\n    });\r\n});\r\n\n//# sourceMappingURL=built.js.map"]}