$(function(){$(".datepicker").datepicker({dateFormat:"dd-mm-yy"}),""!==location.search&&$(".pagination a").each(function(){var e=$(this).attr("href");$(this).attr("href",e+location.search)}),$(".modal").on("shown.bs.modal",function(){$(".selectpicker").selectpicker({}),$(".datepicker").datepicker({dateFormat:"dd-mm-yy"}),$(".reset_datepicker").click(function(e){e.preventDefault(),$(".datepicker").val("")})}),$(document).on("change",'input[type="checkbox"]',function(){this.checked?$(this).parent().parent().addClass("checked"):$(this).parent().parent().removeClass("checked");var e=$("input:checkbox:checked").length,t=$("input:checkbox").length;$(this).notify("Đã chọn: "+e+"/"+t,{position:"right middle",className:"success",showDuration:200,autoHideDelay:1e3})}),$("input[name='back_location']").val(document.referrer),$(".back_location").click(function(){location.href=document.referrer}),$(".reset_datepicker").click(function(e){e.preventDefault(),$("#datepicker").val("")}),$("li.current-page").parent().hasClass("child_menu")&&$("li.current-page").parent().css("display","none"),$("li.active").parent().hasClass("side-menu")&&$(this).removeClass("active");var e=!0;$(".check_all").css("cursor","pointer").click(function(){(e=!e)?$(".list_contact input[type='checkbox']").each(function(){$(this).prop("checked",!1),$(this).parent().parent().removeClass("checked")}):$(".list_contact input[type='checkbox']").each(function(){$(this).prop("checked",!0),$(this).parent().parent().addClass("checked")})}),$(".dropdown-toggle").parent().on("show.bs.dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown()}),$(".dropdown-toggle").parent().on("hide.bs.dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp()}),$(document).on("click",".find-course-code",function(){var e=$(this);$.ajax({url:$("#base_url").val()+"common/find_course_name",type:"POST",data:{course_code:$(this).text().trim()},success:function(t,c,a){"view_course_code"===e.parent().attr("class")?e.notify(t,{position:"top left",className:"success",showDuration:200,autoHideDelay:4e3}):e.notify(t,{position:"top center",className:"success",showDuration:200,autoHideDelay:4e3})}})}),$("#curr_url").val(location.href),$("tr.custom_right_menu").on({contextmenu:function(e){e.preventDefault();var t=$(this).attr("contact_id"),c=$(this).attr("contact_name"),a=$(this).attr("duplicate_id");a>0?($("a.view_duplicate").removeClass("hidden"),$("a.view_duplicate").attr("duplicate_id",a),$(".divide_one_contact_achor").addClass("hidden")):($(".divide_one_contact_achor").removeClass("hidden"),$(".divide_one_contact_achor").attr("contact_id",t),$(".divide_one_contact_achor").attr("contact_name",c),$("a.view_duplicate").addClass("hidden")),$(".action_view_detail_contact").attr("contact_id",t);var i=$(".menu");i.hide();var n=e.pageX,o=e.pageY;i.css({top:o,left:n});var s=i.width(),d=i.height(),r=$(window).width(),h=$(window).height(),l=$(window).scrollTop();n+s>r&&i.css({left:n-s}),o+d>h+l&&i.css({top:o-d}),i.show(),$(".checked").removeClass("checked"),$(this).addClass("checked")},dblclick:function(){$(this).addClass("checked");var e=$(this).attr("contact_id");$(".action_view_detail_contact").attr("contact_id",e),$("a.action_view_detail_contact").click()},click:function(){$(this).hasClass("checked")?$(this).removeClass("checked"):$(this).addClass("checked"),$(this).find('[name="contact_id[]"]').prop("checked",!0)}}),$("html").on("click",function(){$(".menu").hide()})});